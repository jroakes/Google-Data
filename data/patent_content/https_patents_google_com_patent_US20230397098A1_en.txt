US20230397098A1 - Predictive Data Rates for Wireless Roaming and Selection - Google Patents
Predictive Data Rates for Wireless Roaming and Selection Download PDFInfo
- Publication number
- US20230397098A1 US20230397098A1 US17/830,559 US202217830559A US2023397098A1 US 20230397098 A1 US20230397098 A1 US 20230397098A1 US 202217830559 A US202217830559 A US 202217830559A US 2023397098 A1 US2023397098 A1 US 2023397098A1
- Authority
- US
- United States
- Prior art keywords
- access point
- data rate
- wireless device
- data
- bss
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
- 238000005259 measurement Methods 0.000 claims abstract description 60
- 238000000034 method Methods 0.000 claims description 47
- 238000010801 machine learning Methods 0.000 claims description 42
- 230000015654 memory Effects 0.000 claims description 24
- 238000012360 testing method Methods 0.000 claims description 19
- 238000004519 manufacturing process Methods 0.000 claims description 11
- 238000010187 selection method Methods 0.000 claims description 2
- 238000005516 engineering process Methods 0.000 abstract description 7
- VYLDEYYOISNGST-UHFFFAOYSA-N bissulfosuccinimidyl suberate Chemical compound O=C1C(S(=O)(=O)O)CC(=O)N1OC(=O)CCCCCCC(=O)ON1C(=O)C(S(O)(=O)=O)CC1=O VYLDEYYOISNGST-UHFFFAOYSA-N 0.000 description 62
- 238000011156 evaluation Methods 0.000 description 42
- 238000013459 approach Methods 0.000 description 11
- 238000004891 communication Methods 0.000 description 11
- 230000008569 process Effects 0.000 description 10
- 238000010586 diagram Methods 0.000 description 8
- 238000012549 training Methods 0.000 description 8
- 230000007704 transition Effects 0.000 description 7
- 238000012417 linear regression Methods 0.000 description 4
- 238000012545 processing Methods 0.000 description 4
- 230000003139 buffering effect Effects 0.000 description 3
- 230000006870 function Effects 0.000 description 3
- 238000007781 pre-processing Methods 0.000 description 3
- 238000012800 visualization Methods 0.000 description 3
- 230000008901 benefit Effects 0.000 description 2
- 238000004364 calculation method Methods 0.000 description 2
- 230000008859 change Effects 0.000 description 2
- 238000013527 convolutional neural network Methods 0.000 description 2
- 230000000593 degrading effect Effects 0.000 description 2
- 238000013515 script Methods 0.000 description 2
- 239000007787 solid Substances 0.000 description 2
- 230000008685 targeting Effects 0.000 description 2
- 238000012546 transfer Methods 0.000 description 2
- 230000003466 anti-cipated effect Effects 0.000 description 1
- 238000013528 artificial neural network Methods 0.000 description 1
- 238000004422 calculation algorithm Methods 0.000 description 1
- 230000003247 decreasing effect Effects 0.000 description 1
- 230000001419 dependent effect Effects 0.000 description 1
- 238000001914 filtration Methods 0.000 description 1
- -1 first BSS 104 a Chemical compound 0.000 description 1
- 230000006872 improvement Effects 0.000 description 1
- 238000005304 joining Methods 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 238000005457 optimization Methods 0.000 description 1
- 230000000737 periodic effect Effects 0.000 description 1
- 230000000306 recurrent effect Effects 0.000 description 1
- 230000009467 reduction Effects 0.000 description 1
- 230000006403 short-term memory Effects 0.000 description 1
- 238000003860 storage Methods 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W48/00—Access restriction; Network selection; Access point selection
- H04W48/20—Selecting an access point
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W24/00—Supervisory, monitoring or testing arrangements
- H04W24/10—Scheduling measurement reports ; Arrangements for measurement reports
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/0005—Control or signalling for completing the hand-off
- H04W36/0083—Determination of parameters used for hand-off, e.g. generation or modification of neighbour cell lists
- H04W36/00835—Determination of neighbour cell lists
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/24—Reselection being triggered by specific parameters
- H04W36/30—Reselection being triggered by specific parameters by measured or perceived connection quality data
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/24—Reselection being triggered by specific parameters
- H04W36/30—Reselection being triggered by specific parameters by measured or perceived connection quality data
- H04W36/304—Reselection being triggered by specific parameters by measured or perceived connection quality data due to measured or perceived resources with higher communication quality
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/24—Reselection being triggered by specific parameters
- H04W36/32—Reselection being triggered by specific parameters by location or mobility data, e.g. speed data
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W8/00—Network data management
- H04W8/02—Processing of mobility data, e.g. registration information at HLR [Home Location Register] or VLR [Visitor Location Register]; Transfer of mobility data, e.g. between HLR, VLR or external networks
- H04W8/08—Mobility data transfer
- H04W8/12—Mobility data transfer between location registers or mobility servers
Definitions
- Automatic network selection or auto-connect occurs when a non-connected wireless device selects a network and specific access point within that network to connect with.
- Wireless roaming occurs when a wireless device transitions from one access point to another, or one network to another, which may involve seeking better performance such as with a stronger signal or lower communication error rate. Both situations face the same challenge —deciding which network and access point is the “best”.
- connection options may compare physical attributes of connection options. This can involve scoring each option based on its signal strength, signal-to-noise (SNR) ratio, wireless channel, frequency band, or some combination of these. The decision may be made simply by selecting the option with the highest signal strength.
- SNR signal-to-noise
- these physical attributes are not always good proxies for wireless performance.
- Signal strength or signal-to-noise ratio does not dictate actual connection performance. A higher signal strength or signal-to-noise ratio in one connection option does not guarantee a higher throughput than another connection. In fact, connection performance cannot be evaluated until the connection is actually established.
- a prediction system can employ a plurality of different machine learning models for predicting data rates. For instance, there may be a machine learning model associated with each firmware and hardware combination for different types of wireless devices. This can enable a wireless computing device to avoid selecting access points that might have buffering, timeout or other connectivity issues.
- a network selection method comprises: receiving, by one or more processors of a wireless device, at least one physical and link layer measurement for each of a plurality of access points, each access point providing wireless network coverage to a location of the wireless device; predicting, by the one or more processors, a data rate for each access point prior to forming a wireless network connection with the access point, the predicted data rate estimating a rate at which data is transferred from the wireless device to the access point once the network connection is formed; selecting, by the one or more processors, an access point with a highest predicted data rate from the plurality of the access points; and instructing a transceiver of the wireless device to form a connection with the selected access point.
- the method further comprises performing a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points. Predicting the data rate for each access point may be based on the at least one physical and link layer measurement for each access point.
- the at least one physical and link layer measurement may include one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data.
- the method may further comprise storing, in memory of the wireless device, pre-processed information indicating a relationship between a given data rate and at least one physical and link layer measurement detected at a time when the given data rate is determined. Predicting the data rate for each access point may be based on the at least one physical and link layer measurement associated therewith and the pre-processed information.
- the predicted data rate may approximate a data rate selected by a firmware of the wireless device.
- the data rate may be selectable when the wireless network connection is formed with the access point. Predicting the data rate for each access point may be done using a machine learning model trained on the pre-processed information.
- the pre-processed information may include testing data and production data.
- the wireless device may be connected to a current access point.
- the method may further comprise: determining a current data rate at which data is transferred from the wireless device to the current access point; comparing the highest predicted data rate to the current data rate; and instructing the transceiver of the wireless device to form a connection with the selected access point when the highest predicted data rate is higher than the current data rate.
- a method for determining roaming of a wireless device comprises: determining, by one or more processors of the wireless device, whether to consider roaming when the wireless device is connected to a current access point, the wireless device being within a network coverage area of a plurality of access points, the plurality of access points including the current access point and at least one candidate access point; predicting, by the one or more processors, a data rate for each candidate access point prior to forming a network connection with a selected one of the at least one candidate access points, the predicted data rate estimating a rate at which data would be transferred from the wireless device to each respective candidate access point once the network connection is formed; comparing, by the one or more processors, a data rate of the current access point to the predicted data rate of each candidate access point to select a target access point with a highest data rate; and determining, by the one or more processors, to roam from the current access point to the target access point when the target access point is not the current access point.
- the method comprises: determining, by one or more processors
- Predicting the data rate for each of the at least one candidate access point may be based on at least one physical and link layer measurement associated therewith.
- the at least one physical and link layer measurement may include one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data.
- the method may further comprise performing a roam scan to gather the at least one physical and link layer measurement for each of the at least one candidate access point.
- determining whether to consider roaming may include comparing the data rate of the current access point to a threshold.
- the method may further comprise storing, in memory of the wireless device, pre-processed information indicating a relationship between a given data rate and at least one physical and link layer measurement detected at a time when the given data rate is determined. Predicting the data rate for each candidate access point may be done using a machine learning model trained on the pre-processed information, the pre-processed information including testing data and the production data. Predicting the data rate for each of the at least one candidate access point may be based on at least one physical and link layer measurement associated therewith and the pre-processed information.
- determining whether to consider roaming may include evaluating at least one of the following: signal strength of the current access point, a system requirement of the wireless device, an application currently running on the wireless device, and historical connection performance.
- a further aspect provides a wireless device within a network coverage area of a plurality of access points.
- the wireless device comprises: a transceiver; and one or more processors operatively coupled to the transceiver.
- the one or more processors may be configured to: receive at least one physical and link layer measurement for each of the plurality of access points; predict a data rate for each access point prior to forming a network connection with the access point, the predicted data rate estimating a rate at which data is transferred from the transceiver to the access point once the network connection is formed; select an access point with a highest predicted data rate; and instruct the transceiver to form a wireless connection with the selected access point.
- the one or more processors may be configured to: performing a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points.
- the one or more processors may predict the data rate for each access point based on the at least one physical and link layer measurement for each access point.
- the at least one physical and link layer measurement may include one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data.
- the wireless device comprises: a transceiver; and one or more processors operatively coupled to the transceiver.
- the one or more processors may be configured to: determine whether to consider roaming when the transceiver is connected to a current access point of a plurality of access points, the plurality of access points including the current access point and at least one candidate access point; predict a data rate for each candidate access point prior to forming a network connection with a selected one the candidate access points, the predicted data rate estimating a rate at which data would be transferred from the transceiver to each respective candidate access point once the network connection is formed; compare a data rate of the current access point to the predicted data rate of each candidate access point to select a target access point with a highest data rate; and determine to roam from the current access point to the target access point when the target access point is not the current access point.
- the one or more processors may be further configured to instruct the transceiver to roam from the current access point to the target access point when the target access point is not the current access point.
- the one or more processors may be configured to predict the data rate for each of the at least one candidate access point based on at least one physical and link layer measurement associated therewith.
- FIG. 1 illustrates an example access point environment that supports wireless connections in accordance with various aspects of the present disclosure.
- FIG. 2 illustrates a functional diagram of an example wireless device including a system for predicting data rates in accordance with aspects of the disclosure.
- FIG. 3 illustrates a flow diagram showing an exemplary method for network selection in accordance with aspects of the disclosure.
- FIG. 4 A illustrates a functional diagram of another example wireless device including a system for deciding roaming in accordance with aspects of the disclosure.
- FIG. 4 B illustrates another functional diagram of an example wireless device including a system for deciding roaming in accordance with aspects of the disclosure.
- FIG. 5 illustrates a flow diagram showing an exemplary method for deciding roaming in accordance with aspects of the disclosure.
- FIG. 6 illustrates a flow diagram showing another exemplary method for deciding roaming in accordance with aspects of the disclosure.
- FIG. 7 illustrates a flow diagram showing yet another exemplary method for deciding roaming in accordance with aspects of the disclosure.
- FIG. 8 illustrates an example visualization 800 for a non-linear multivariate regression model, in accordance with aspects of the disclosure.
- FIG. 9 illustrates an example state-based roaming approach in accordance with aspects of the disclosure.
- FIGS. 10 A-B illustrate a system for use with aspects of the technology.
- aspects of the technology employ predictive data rates to make network and/or access point selections by a wireless computing device. This may include modeling various firmware and hardware combinations that evaluate various characteristics and performance of communication links. The result is a reliable approach for selecting the network and/or access point, thereby providing a performant wireless experience to the user.
- One embodiment of the technical solution performs automatic network selection, which includes predicting a data rate for each access point within a wireless communication range of the wireless computing device, selecting an access point with the highest predicted data rate, and automatically forming a connection with the selected access point.
- Another embodiment of the technical solution automatically makes a roaming decision about whether to roam from a current access point that the wireless computing device is currently connected with, which includes predicting a data rate for each candidate access point, comparing a data rate of the current access point to the predicted data rates of the candidate access points, selecting a target access point with the highest data rate, and determining to roam to the target access point if the target access point is not the current access point.
- the technical solution enables the wireless device to avoid buffering or timeout issues, and flexibly supports different product builds with firmware/hardware configurations.
- the technical solution provides a reliable and accurate approach to select a network and/or access point to ensure a performant wireless experience to the user.
- the technical solution may benefit any project, wireless device or device that implements automatic network selection and Wi-Fi roaming.
- the term “access point” or “AP” is used to denote a device through which wireless devices can connect to a basic service set (“BSS”) within a wireless network.
- BSS basic service set
- the term “current access point” is used to denote the access point that a wireless device is currently part of.
- the term “candidate access point” is used to denote an available access point that a wireless device is capable of connecting with.
- the candidate access point may include the current access point.
- Wireless devices may include a user's mobile phone, their tablet, netbook or other laptop PC, a wearable device (e.g., a smartwatch or head-mounted display), etc.
- the term “basic service set” or “BSS” is used to denote a subset of a network including one access point and its associated wireless devices.
- extended service set or “ESS” is used to denote one or more BSSs forming a larger, single network.
- ESS extended service set
- current BSS is used to denote the BSS that a wireless device is currently part of.
- candidate BSS is used to denote an available BSS that a wireless device is capable of joining.
- the candidate BSS may include the current BSS.
- non-candidate BSS is used to denote a BSS that is not current or candidate.
- EWMA envelope weighted moving average
- FIG. 1 illustrates an example access point environment 100 that supports roaming in accordance with aspects of the present disclosure.
- the access point environment 100 may include a plurality of access points 102 a , 102 b , and 102 c , each having its own corresponding BSS 104 a , 104 b or 104 c .
- Each access point or BSS may provide network coverage to one or more wireless devices positioned within the corresponding geographic coverage area.
- a first access point 102 a or its corresponding BSS 104 a may provide network coverage to wireless devices 110 a , 110 b , and 110 c .
- a second access point 102 b or its corresponding BSS 104 b may provide network coverage to wireless devices 110 a , 110 d and 110 e .
- a third access point 102 c or its corresponding BSS 104 c may provide network coverage to wireless devices 110 a , 110 f and 110 g .
- Each wireless device may be configured to connect to an access point or BSS. Coverage areas of different access points or BSSs may overlap. A wireless device at an overlapped area may form a connection with any of the overlapping access points or BSSs. For example, as illustrated in FIG.
- the wireless device 110 a may communicate with any one of the access points 102 a , 102 b and 102 c or corresponding BSSs (e.g., first BSS 104 a , the second BSS 104 b and the third BSS 104 c ). Different arrangements in other examples are possible.
- the wireless device 110 a may include a BSS data rate prediction system 202 .
- the prediction system 202 may be implemented by instructions stored in memory 204 . Modules and instructions within the prediction system 202 may be executable by one or more processors 206 .
- the prediction system 202 may predict a data rate for an access point or BSS prior to forming a network connection between the wireless device 110 a and the BSS's access point.
- the data rate may refer to a physical layer (PHY) rate.
- PHY physical layer
- Data rate and “PHY rate” may be used interchangeably in this document.
- the data rate may represent the speed at which data is transferred between the wireless device and the access point of the BSS.
- the data rate may be measured in, e.g., megabits per second (Mbps).
- the data rate may serve as a performance measure of the access point or BSS, indicating its physical layer connection quality. The higher the data rate, the better the connection quality of the access point or BSS. For example, an access point or BSS with a data rate of 400 Mbps is more performant than an access point or BSS with a data rate of 200 Mbps.
- the data rate may refer to the rate that data is transferred from the wireless device to the access point of the BSS, namely, the transmit (TX) data rate.
- the TX rate may refer to the transmit physical layer (TX PHY) data rate.
- the TX PHY data rate may not be known until the firmware of the wireless device selects this data rate after a connection is established between the wireless device and the access point or BSS.
- algorithms used by the firmware to select the data rate may be complex and proprietary.
- upper layers of the WLAN stack may not have insights as to how the firmware selects the data rate, and may not predict how the firmware will select the data rate prior to forming the connection.
- the prediction system 202 is configured to predict the data rate of an access point or BSS prior to forming a network connection between the wireless device 110 a and the access point of the BSS.
- the predicted data rate may closely approximate the data rate that the firmware running on the wireless device 110 a would select upon forming the connection with the access point or BSS.
- the prediction system 202 may predict the data rate for an access point or BSS based on data associated with the access point or BSS, including one or more of the following: signal strength, signal strength velocity, signal-to-noise ratio (SNR), frequency band, 802.11 mode, and historical data, among other possibilities.
- SNR signal-to-noise ratio
- the signal strength may refer to exponentially weighted moving average (EWMA) signal strength, may be measured in decibels per milliwatt (dBm).
- the SNR may refer to EWMA SNR.
- the signal strength velocity may refer to a rate of change of the EWMA signal strength over time, and may be measured in dBm/s.
- the 802.11 mode may refer to the Wi-Fi standard under which the access point is operating, which determines the theoretical maximum speed of the connection.
- Historical data may include any of the above data gathered over some duration of time. Some of the above data may be gathered when the access point or BSS is observed via one or more roam scans.
- Roam scans allow the client device to observe the signal characteristics of the access point or BSS, including signal strength, frequency band, and signal-to-noise ratio, as well as the 802.11 mode. Multiple roam scans allow the client device to calculate change in signal strength over time, or signal strength velocity.
- the wireless device 110 a may perform a burst of several active scans targeting one or more access points or BSSs to gather time series data for EWMA and velocity calculations of each access point or BSS.
- the prediction system 202 may implement one or more machine learning models 212 to perform data rate prediction.
- the model(s) 212 may be a multivariate non-linear regression model(s).
- the machine learning model(s) 212 may employ, by way of example, a Transformer-type architecture, a convolutional neural network (CNN), recurrent neural network (RNN), long short-term memory (LSTM) network or combination thereof. Other machine learning architectures may be used, so long as they support multivariate non-linear regression.
- the machine learning model 212 may be trained with pre-processed information 210 , including, for example, testing data and production data. As shown in FIG. 2 , the pre-processed information 210 may be stored in the memory 204 .
- pre-processing may include filtering out idle rates. When a device does not have data to be sent, its rate can drop to some idle value. Those idle rates may not be representative of the true link capacity. Pre-processing may be used to filter out such idle rates, if they have not been removed beforehand. As a result, the machine learning model(s) 212 may be trained with data sets that do not contain idle rates.
- Training the machine learning model(s) 212 may comprise inputting sets of physical attribute values from training examples in the pre-processed data into the machine learning model(s) 212 and processing them to generate, for each set of physical attribute values, a respective predicted data rate. Each predicted data rate is compared to a corresponding ground truth data rate in the pre-processed data, for example using a loss function, such as an L2 loss function. Based on the comparison, parameters of the machine learning model(s) 212 are updated. For example, an optimization procedure, such as stochastic gradient descent, may be applied to the loss function to determine the parameter updates. The process of updating the parameters of the machine learning model(s) 212 may be iterated until a threshold condition is satisfied, such as a threshold number of training epochs and/or a threshold performance on a test dataset being reached.
- a threshold condition such as a threshold number of training epochs and/or a threshold performance on a test dataset being reached.
- the testing data may refer to data gathered through tests before a product launch.
- the testing data may include physical attribute values of a BSS and the corresponding data rate selected by a test wireless device when connected to an access point of the BSS.
- the testing data may be gathered from tests performed on wireless devices with different hardware. Hardware tests may include rate versus range tests, and bespoke PHY rate tests, among others.
- a test wireless device may be repeatedly connected to an access point of a BSS with a different permutation of physical attribute values.
- the physical attributes may represent radio frequency attributes of a connection.
- the physical attributes may include, but are not limited to, signal strength, signal strength velocity, SNR, frequency band, mode and/or wireless channel. After each connection, the physical attribute values as well as the data rate selected by the firmware of the test wireless device may be added to the pre-processed information for training the machine learning model 212 .
- the production data may refer to data gathered after a product launch.
- the production data may include metrics of an access point or BSS and corresponding data rate selected by a firmware of a wireless device when connected to the access point of the BSS.
- the production data may be gathered from wireless devices in the field.
- the wireless device may record the data rate selected by its firmware as well as a metric of the access point or BSS connection statistics at the time when the data rate is selected.
- the metric may include radio frequency measurements of the access point or BSS connection.
- the metric may include, but not limited to, signal strength, SNR, frequency band, mode, noise, and wireless channel, among others.
- the selected data rate as well as the metric of the access point or BSS connection statistics may then be added to the pre-processed information for training the machine learning model 212 . This may be done periodically or upon request for one or more devices operating in the field.
- the machine learning model(s) 212 may be trained at the wireless device, or may be trained by a backend system and then sent to the wireless device for use by the prediction system 202 .
- An example machine learning training architecture is described further below.
- the machine learning model 212 may be used by the prediction system 202 to predict the data rate of an access point or BSS, even before the wireless device 110 a forms a network connection with the access point or BSS.
- the predicted data rate may indicate the firmware running on the wireless device 110 a would choose if the wireless device 110 a were to connect with the access point or BSS.
- the predicted data 214 may be stored in the memory 204 .
- the machine learning model 212 may predict the data rate based on one or more physical and link layer measurements of the access point or BSS.
- Physical layer may refer to open systems interconnection (OSI) model physical layer, and measurements of which may include signal strength and frequency, among others.
- Link layer measurements may include 802.11 mode and data rate, among others.
- Physical and link layer measurements may include one or more of the following data related to the access point or BSS obtained through one or more roam scams: signal strength, SNR, frequency band, wireless channel, and mode, among others.
- the machine learning model 212 may predict the data rate based on either the signal strength or SNR, or a combination thereof. By relying on the signal strength and the signal noise ratio, either alone or in combination, the machine learning model 212 may generate an accurate prediction of the data rate.
- the data rate predicted by the machine learning model 212 may represent a direct, objective measurement of the potential performance of the access point or BSS, serving as an indicator for potential connection quality of the access point or BSS.
- the wireless device 110 a may engage an automatic network selection process. During this process, the wireless device 110 a may automatically perform a roam scan to capture data or physical and link layer measurements of each surrounding access point or BSS.
- the prediction system 202 may predict a data rate for each access point or BSS based on its physical and link layer measurement, and compare all access points or BSSs based on their predicted data rates. To ensure that the wireless device 110 a would receive the best connection quality, the prediction system 202 may select the access point or BSS with the highest predicted data rate, and instruct a transceiver 208 to establish a connection with the selected access point or BSS.
- FIG. 3 presents a flow chart depicting an exemplary automatic network selection process based on predicted data rates.
- one or more processors 206 of the wireless device 110 a may receive at least one physical and link layer measurement for each of a plurality of access points or BSSs via transceiver 208 . Each access point or BSS may provide network coverage to where the wireless device 110 a resides.
- the processor(s) 206 may predict a data rate for each access point or BSS prior to forming a network connection with a given access point or BSS.
- the predicted data rate may estimate a rate at which data would be transferred from the wireless device 110 a , or the transceiver 208 of the wireless device 110 a , to the access point or BSS once the network connection is formed.
- the processor(s) 206 may select a BSS with a highest predicted data rate from the plurality of the access points or BSSs.
- the processor(s) 206 may instruct a transceiver to form a connection with the selected access point or BSS.
- the data rate may be a physical layer rate.
- the processor(s) 206 may perform a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points.
- the processor(s) 206 may predict the data rate for each access point based on the at least one physical and link layer measurement for each access point.
- the at least one physical and link layer measurement may include one or more of the following: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio and historical data.
- the memory 204 may store pre-processed information indicating a relationship between a data rate and at least one physical and link layer measurement detected at the time when the data rate is determined.
- the processor(s) 206 may predict the data rate for each access point or BSS based on the at least one physical and link layer measurement associated with the access point or BSS and the pre-processed information.
- the predicted data rate may approximate a data rate selected by a firmware of the wireless device, wherein the firmware selects the data rate when the wireless network connection is formed with the access point.
- the wireless device may be connected to a current access point.
- the processor(s) 206 may determine a current data rate at which data is transferred from the wireless device to the current access point.
- the processor(s) 206 may compare the highest predicted data rate to the current data rate.
- the processor(s) 206 may instruct the transceiver of the wireless device to form a connection with the selected access point when the highest predicted data rate is higher than the current data rate.
- the prediction system 202 may have a plurality of different machine learning models 212 for predicting data rates. For instance, the prediction system 202 may have a machine learning model 212 for each firmware and hardware combination of wireless devices, or for each device class. Given a device class of the wireless device 110 a (e.g., laptop, smartphone, smart speaker, smart display, etc.), the prediction system 202 may select a suitable machine learning model 212 to perform data rate prediction.
- a device class of the wireless device 110 a e.g., laptop, smartphone, smart speaker, smart display, etc.
- one machine learning model may predict data rates for outdoor connections, such as in the case when the wireless device 110 a is positioned in an outdoor environment.
- Another machine learning model may predict data rates for indoor connections, such as in the case when the wireless device 110 a is positioned in an indoor environment.
- the prediction system 202 may implement a machine learning model that predicts a data rate for each access point or BSS, and calculates a score for each access point or BSS based on the predicted data rate.
- the machine learning model 212 may adjust the score by taking into account different situations. For example, signal strength and/or SNR of an access point or BSS may vary widely depending on whether the wireless device 110 a is positioned indoor or outdoor.
- the machine learning model may increase the score of the access point or BSS if the wireless device 110 a is positioned outdoors, and decrease the score if the wireless device 110 a is positioned indoor (or vice versa, depending on the scenario).
- the prediction system 202 may compare access points or BSSs based on their scores, and select the access point or BSS with the highest score to form a connection.
- the prediction system 202 may have different machine learning models for different connection scenarios. For instance, the prediction system 202 may have a first machine learning model for predicting data rates of all surrounding access points or BSSs when the wireless device 110 a is not connected to any access point or BSS, as discussed in Section 2.2. The prediction system 202 may have a second machine learning model for predicting data rates during a roaming determination process. When the wireless device 110 a is connected to a current access point or BSS, the wireless device 110 a may assess roaming needs by determining if there is any other access point or BSS that would provide a better connection quality than the current access point or BSS. The second machine learning model may predict the data rate for each candidate access point or BSS.
- the predicted data rates of candidate access points or BSSs may then be compared to a data rate of the current access point or BSS to determine if there is any candidate access point or BSS that exceeds the performance of the current access point or BSS, in which case the wireless device 110 a may choose to roam from the current access point or BSS to the candidate access point or BSS.
- An example implementation approach for making roaming decisions is provided in Section 3 below.
- FIG. 4 A illustrates another embodiment 400 a of the wireless device 110 a , in which the BSS data rate prediction system 202 may form part of a BSS evaluation system 400 for making roaming decisions.
- the wireless device 110 a may make roaming decisions when it is currently connected to an access point or BSS.
- the transceiver 208 of the wireless device 110 a may establish a connection with a first access point to join a first BSS, such as BSS 104 a , while residing at a position covered by other access points 102 b and 102 c or their corresponding BSSs such as BSSs 104 b and 104 c .
- the first access point 102 a may be regarded as the current access point, while other access points 102 b and 102 c may be regarded as candidate access points.
- the first BSS 104 a may be regarded as the current BSS, while the other BSSs 104 b and 104 c may be regarded as candidate BSSs.
- the evaluation system 400 may evaluate current access point or BSS adequacy, compare the current access point or BSS to candidate access point or BSSs, select a target access point or BSS for roaming based on the comparison, and ultimately make a roaming decision. Once the evaluation system 400 decides to roam to a candidate access point or BSS, such as access point 102 b or its corresponding BSS 104 b , the transceiver 208 may then roam from the current access point 102 a (or its corresponding BSS 104 a ) to the candidate access point 102 b (or its corresponding BSS 104 b ).
- the system may also evaluate a current connection, evaluate candidate connections, and then make an assessment based on certain criteria. This can include determining a quality score for each connection, and automatically deciding to roam to the connection with the highest quality score.
- the system may consider various aspects such as signal strength, system requirements, user needs (e.g., based on the type of application(s) being run), and/or historical connection performance. The user needs may be determined based on the application(s) currently running on the wireless device.
- the computing device may have one or more of the following applications in progress: podcast download or media streaming in progress, large file transfer in progress, or cloud gaming in progress.
- the user needs may affect the quality score of the connection.
- podcast download, media streaming and large file transfer may place importance on stability of the connection, causing the quality score to be heavily influenced by connection stability.
- cloud gaming may place importance on latency of the connection, causing the quality score to be heavily influenced by connection latency.
- similar information may be considered to the extent that it is available for the different connections.
- the system can assess the advantages and disadvantages of changing from a current connection to a different connection in connection with the prediction approaches described herein. For instance, roaming to a connection that has performed well in the past can carry less downside risk or be less likely to cause an interruption to the user, whereas roaming when an app involves a latency dependent task (e.g., streaming a movie or other content), is more likely to cause a disruption (and hence have higher “risk”).
- a latency dependent task e.g., streaming a movie or other content
- the evaluation system 400 may be part of wireless local area network (WLAN) implementation 402, which may include a WLAN management module 404 and WLAN spec and driver implementation 406.
- the evaluation system 400 may perform a roam scan or a burst of several active scans to discover any candidate access point or BSS within a communication range of the wireless device 110 a .
- the evaluation system 400 may include a scan manager 422 for managing frequency of roam scans.
- the evaluation system 400 may also include a saved networks manager 410 to keep track of information related to each access point or BSS, including the current access point or BSS as well as each candidate access point or BSS.
- the saved networks manager 410 may have a data structure 412 (maintained in memory 204 ) dedicated to each access point or BSS, storing connection quality data associated with each access point or BSS.
- the connection quality data stored in the data structure 412 may include one or more of the following: data 414 related to layer 1 of open systems interconnection (OSI), data 416 related to OSI layer 2, data 418 related to OSI layer 3, and data 420 related to wireless local area network (WLAN) management module.
- the data structure 412 may include OSI layer 1 data 414 , OSI layer 2 data 416 and OSI layer 3 data 418 .
- the data structure 412 may include OSI layer 1 data 414 , OSI layer 2 data 416 , OSI layer 3 data 418 and WLAN management module data 420 .
- the OSI layer 1 data 414 may include physical layer data, including, but not limited to, EWMA signal strength, signal strength velocity, EWMA SNR, channel and channel bandwidth.
- the OSI layer 1 data 414 may be gathered using scanning. In one example, for the current access point or BSS, the OSI layer 1 data 414 may be obtained by a state machine 424 at the WLAN management module 404 at regular intervals, such as every second. For any candidate access point or BSS, its OSI layer 1 data 414 may be gathered by WLAN management module 404 when the candidate access point or BSS is observed in a roam scan.
- the evaluation system 400 may do a burst of several active scans targeting some of the candidate access points or BSSs to gather time series data for EWMA and velocity calculations.
- the state machine may implement a state-based roaming approach as discussed further below.
- the OSI layer 2 data 416 may include link-layer data, including, but not limited to, data rate, radio resource management (RRM) reports, and BSS transition management (BTM) indications.
- the OSI layer 2 data 416 may be gathered from reports provided by the firmware.
- the RRM reports may contain data for any access points or BSSs that are reported on, such as channel, frequency, among others.
- the prediction system 202 may rely on data contained in the RRM report to predict the data rate for the candidate access point or BSS.
- the data rate for the current access point or BSS may be observed by the state machine 424 and stored in the data structure 412 .
- the data rate for the current access point or BSS may vary significantly. For instance, the data rate may drop very low when the wireless device is idle with no data to send.
- the evaluation system 400 may filter out the idle rates, such that data rates may be only considered when data is actually flowing. Once filtered, the remaining data rate values may then be smoothed using the exponentially weighted moving average (EWMA).
- EWMA exponentially weighted moving average
- measurements may not be obtained at perfect intervals. For example, some of the periodic measurements of data rates may be dropped when the wireless device is idle.
- the evaluation system 400 may weigh older data, even if it is the most recent usable data.
- the evaluation system 400 may use time in the EWMA weight, rather than number of measurements.
- the amount of weight the new measurement has in the average may be proportional to the time since the measurement was last adjusted.
- the data structure 412 may store an exponentially weighted moving average physical layer (EWMA PHY) rate for the current access point or BSS, including the exponentially weighted moving average or smoothed transmit physical layer (EWMA TX PHY) rate.
- EWMA PHY exponentially weighted moving average physical layer
- EWMA TX PHY smoothed transmit physical layer
- the EWMA PHY rate or the EWMA TX PHY rate may be relied on as the data rate of the current access point or BSS when evaluating adequacy of the current access point or BSS, and/or when comparing the current access point or BSS to any candidate access point or BSS during the roaming determination process.
- the OSI layer 3 data 418 may include network layer data, such as current Internet reachability, historical Internet reachability and gateway reachability, among other possibilities.
- the OSI layer 3 data 418 may be primarily gathered through feedback from other system components, including but not limited to netstack and network policy, among other possibilities.
- the OSI layer 1 data 414 , OSI layer 2 data 416 and OSI layer 3 data 418 may be gathered and/or updated without relying on the WLAN management module 404 or components thereof.
- the WLAN management module data 420 may include historical data for each connection, such as, time-to-connect, connection duration, disconnect reason, disconnect signal strength, and average TX PHY rate, among others.
- the WLAN management module data 420 may be gathered by the state machine 424 .
- the evaluation system 400 may regularly monitor and update the data structure 412 for each access point or BSS.
- the state machine 424 may update the data structure 412 for the current access point or BSS 104 a periodically.
- the evaluation system 400 may update its data structures 412 after a roam scan or after receiving an RRM report, if the RRM report contains information related to the candidate access point or BSS.
- the evaluation system 400 may evaluate adequacy of the current access point or BSS 104 a based on its data rate, such as the EWMA PHY rate or the EWMA TX PHY rate described above.
- the evaluation system 400 may decide that roaming needs to be considered.
- a data rate indicating that a connection is poor may be a data rate of 30 Mbps on a connection theoretically capable of 300 Mbps.
- An example of data rates indicating that a connection is degrading may be the data rate decreasing from 100 Mbps to 75 Mbps to 50 Mbps, and so on.
- An example tunable threshold may be to consider roaming below 50 Mbps, which could be adjusted up or down.
- the evaluation system 400 may then evaluate candidate access points or BSSs to identify if there is any candidate access point or BSS that would offer a better connection than the current access point or BSS. If the evaluation system 400 identifies a candidate access point or BSS that is better than the current access point or BSS, the evaluation system 400 may proceed with roaming to the candidate access point or BSS. On the other hand, if no candidate access point or BSS is better than the current access point or BSS, the evaluation system 400 may decide not to roam. The evaluation system 400 may evaluate candidate access points or BSSs based on their predicted data rates generated by the prediction system 202 .
- the prediction system 202 may predict the data rate for each candidate access point or BSS based on data contained in its data structure 412 , including but not limited to, signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio and historical data, among others.
- the evaluation system 400 may store the predicted data rates for the candidate access point or BSSs in their respective data structures 412 .
- the evaluation system 400 may compare all access points or BSSs based on their data rates, such as comparing the data rate of the current access point or BSS to the predicted data rates of candidate access points or BSSs.
- the data rate of the current access point or BSS may refer to the EWMA PHY rate or the EWMA TX PHY rate of the current access point or BSS as discussed earlier.
- the evaluation system 400 may select the access point or BSS with the highest data rate. If the data rate of the current access point or BSS is greater than the predicted data rate of each candidate access point or BSS, then the current access point or BSS is selected by the evaluation system 400 .
- the candidate access point or BSS with the highest predicted data rate is selected by the evaluation system 400 .
- the evaluation system 400 may continuously maintain connection with the current access point or BSS, and decide not to roam anywhere.
- the evaluation system 400 may initiate a roam to the selected candidate access point or BSS.
- FIG. 5 presents a flow chart depicting an example process for making a roaming decision.
- one or more processors 206 may determine whether to consider roaming when the wireless device 110 a is connected to a current access point or BSS, e.g., by implementing a BSS evaluation system.
- the wireless device may be within a network coverage area of a plurality of access points or BSSs.
- the plurality of access points or BSSs may include the current access point or BSS and at least one candidate access point or BSS.
- the processor(s) 206 may predict a data rate for each candidate access point or BSS prior to forming a network connection with the candidate access point or BSS, e.g., by implementing a BSS data rate prediction system.
- the predicted data rate may estimate a rate at which data is transferred from the wireless device to the candidate access point or BSS once the network connection is formed.
- the processor(s) 206 may compare a data rate of the current access point or BSS to the data rate of each candidate access point or BSS to select a target access point or BSS with a highest data rate.
- the processor(s) 206 may determine to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS.
- the processor(s) 206 may instruct the transceiver 208 to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS.
- the processor(s) 206 may predict the data rate for each candidate access point or BSS based on at least one physical and link layer measurement associated therewith.
- the at least one physical and link layer measurement may include one or more of the following: signal strength, frequency band, mode, signal strength velocity, SNR and historical data.
- the processor(s) 206 may perform a roam scan to gather the at least one physical and link layer measurement for each of the at least one candidate access point.
- the processor(s) 206 may determine whether to consider roaming by comparing the data rate of the current access point or BSS to a threshold.
- the memory 204 may store pre-processed information indicating a relationship between a data rate and at least one physical and link layer measurement detected at the time when the data rate is determined.
- the processor(s) 206 may predict the data rate for each candidate access point or BSS based on at least one physical and link layer measurement associated therewith and the pre-processed information.
- FIG. 6 presents a flow chart illustrating another example process for determining roaming.
- the memory 204 may record data associated with each of a plurality of access points or BSSs that are within a communication range of the wireless device 110 a .
- the plurality of access points or BSSs may include the current access point or BSS that the wireless device 110 a is connected to and at least one candidate access point or BSS.
- one or more processors 206 may determine a data rate for the current access point or BSS.
- the processor 206 may determine whether to consider roaming by evaluating the data rate of the current access point or BSS.
- the processor 206 may predict a data rate for each of the at least one candidate access point or BSS prior to forming a network connection with the candidate access point or BSS.
- the processor(s) 206 may predict the data rate for each candidate access point or BSS based on at least one physical and link layer measurement of the candidate access point or BSS.
- the predicted data rate may estimate a rate at which data is transferred from the wireless device to the candidate access point or BSS once the network connection is formed.
- the processor 206 may select a target access point or BSS with a highest data rate from the plurality of the access points or BSSs.
- the processor 206 may determine to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS.
- the evaluation system 400 may perform an access point or BSS evaluation and making roaming decisions by ranking access points or BSSs based on connection quality data stored in the data structure 412 of each access point or BSS.
- the evaluation system 400 may rank all access points or BSSs including the current access point or BSS and all candidate access points or BSSs based on their connection quality data, and select the access point or BSS with the highest rank. If the current access point or BSS has the highest rank, then the current access point or BSS is selected by the evaluation system 400 . If the selected access point or BSS is the current access point or BSS, then the evaluation system 400 may not initiate roaming. If the selected access point or BSS is not the current access point or BSS, then evaluation system 400 may initiate a roam to the selected access point or BSS.
- the data structure 412 of each access point or BSS may include its historical ranking record.
- FIG. 7 presents a flow chart illustrating yet another example process for determining roaming.
- the memory 204 may record connection quality data associated with each of a plurality of access points or BSSs.
- one or more processors 206 may determine whether to consider roaming when the wireless device 110 a is connected to a current access point or BSS.
- the processor 206 may rank the plurality of access points or BSSs based on their recorded connection quality data.
- the processor 206 may select a target access point or BSS with a highest rank from the plurality of the access points or BSSs.
- the processor 206 may determine to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS.
- FIG. 8 illustrates an example visualization 800 for a non-linear multivariate regression model with two independent variables.
- This visualization plots the data rate along a first axis, the signal-to-noise ratio along a second axis, and a received signal strength indication (RSSI) along a third axis perpendicular to the other two axes.
- RSSI received signal strength indication
- the higher the RSSI and higher the signal-to-noise ratio the higher the potential data rate.
- this model could be used to predict the data rate that would be achieved by connecting to that access point or BSS.
- the memory 204 may be databases that store information accessible by the processor(s) 206 , including, but not limited to: instructions and data (e.g., to implement modules for the prediction system 202 and/or the evaluation system 400 ) that may be executed or otherwise used by the processor(s).
- the memory may be of any type capable of storing information accessible by the processor(s), including a computing device-readable medium.
- the memory may be a non-transitory computer readable medium such as a hard-drive, memory card, optical disk, solid-state, etc. Systems may include different combinations of the foregoing, whereby different portions of the instructions and data are stored on different types of media.
- the instructions may be any set of instructions to be executed directly (such as machine code) or indirectly (such as scripts) by the processor(s).
- the instructions may be stored as computing device code on the computing device-readable medium.
- the terms “instructions”, “modules” and “programs” may be used interchangeably herein.
- the instructions may be stored in object code format for direct processing by the processor, or in any other computing device language including scripts or collections of independent source code modules that are interpreted on demand or compiled in advance.
- the processor(s) 206 may be any conventional processors, such as commercially available GPUs, CPUs, TPUs, etc. Alternatively, each processor may be a dedicated device such as an ASIC or other hardware-based processor. Although FIG. 2 functionally illustrates the processors' memory as being within the same block, such devices may actually include multiple processors, computing devices, or memories that may or may not be stored within the same physical housing. Similarly, the memory may be a hard drive or other storage media located in a housing different from that of the processor(s). Accordingly, references to a processor or computing device will be understood to include references to a collection of processors or computing devices or memories that may or may not operate in parallel.
- Each wireless device 110 a - g may include one or more components normally used in connection with a computing device such as the processor and memory described above as well as a user interface subsystem for receiving input from a user and presenting information to the user (e.g., text, imagery and/or other graphical elements).
- the user interface subsystem may include one or more user inputs (e.g., at least one front (user) facing camera, a mouse, keyboard, touch screen and/or microphone) and one or more display devices (e.g., a monitor having a screen or any other electrical device that is operable to display information (e.g., text, imagery and/or other graphical elements).
- Other output devices, such as speaker(s) may also provide information to users.
- Example wireless devices include, but not limited to, a mobile phone, a laptop, a wearable computing device (e.g., a smartwatch or a head-mounted display), a smart home device such as a smart display or a speaker, a desktop PC, among other possibilities.
- a wearable computing device e.g., a smartwatch or a head-mounted display
- a smart home device such as a smart display or a speaker
- desktop PC a desktop PC
- Each BSS 104 a - c may support a network.
- the network may include various configurations and protocols including short range communication protocols such as BluetoothTM, Bluetooth LETM, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, Wi-Fi and HTTP, and various combinations of the foregoing.
- short range communication protocols such as BluetoothTM, Bluetooth LETM, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, Wi-Fi and HTTP, and various combinations of the foregoing.
- Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces.
- FIG. 9 illustrates an example 900 of a state-based roaming approach that can be employed by state machine 224 executed by the processor(s) 206 .
- the solid boxes indicate different states
- the containers indicate data sources
- the solid arrows indicate state transitions
- the dashed arrows indicate data flow.
- the states include connected state 902 , evaluate current connection state 904 , evaluate candidate connections state 906 , assess state 908 , roam state 910 and connecting state 912 .
- Data source 914 provides data to the evaluate current connection state 904
- data source 916 provides data to the evaluate current connection state 906 .
- the station While in the connected state 902 , the station (client device) is wireless connected to a serving BSS (e.g., BSS 104 a of FIG. 1 ) via access point 102 a .
- a serving BSS e.g., BSS 104 a of FIG. 1
- BSSs e.g., BSSs 104 b and 104 c of FIG. 1
- the state may transition to the evaluate current connection state 904 .
- data from data source 914 is evaluated. This data may include one or more of signal data, data rates, reachability information, a system requirement(s), etc.
- the state Upon determination that the current connection is adequate, the state returns to the connected state 902 as shown by arrow 920 .
- the state transitions to the evaluate connected connections state 906 .
- data from data source 916 is evaluated. This data may include one or more scan signal data, historical data, BTM indications, etc.
- the state machine proceeds to the assess state 908 , with the data flow including the current connection evaluation and roam reasons, if applicable, as shown by dashed arrow 924 .
- the assessment may evaluate potential harm of roaming to candidate access points or BSSs and anticipated improvement by roaming, such as described in the various scenarios and examples above.
- the system e.g., BSS evaluation system 202 of FIG. 2
- determines that roaming is not currently the best option then the state returns to the connected state 902 as shown by arrow 926 .
- the state transitions to roam state 910 as shown by arrow 928 .
- the state transitions to the connecting state 912 , which includes selected roaming candidate data as shown by dashed arrow 930 . From here, using the roaming candidate data, the state will enter the connection state 902 .
- Training may be performed on one or more tensor processing units (TPUs), CPUs or other computing architectures in order to implement the models discussed herein.
- the model(s) 212 may be a multivariate non-linear regression model(s).
- FIGS. 10 A and 10 B are pictorial and functional diagrams, respectively, of an example system 1000 that includes a plurality of computing devices and databases connected via a network.
- computing device(s) 1002 may be a cloud-based server system.
- Databases 1004 , 1006 and 1008 may store, e.g., the testing data, production data and/or trained machine learning models, respectively.
- the server system may access the databases via network 1010 .
- Wireless devices in the field may gather the production data and may receive the trained model(s) may include one or more of a desktop computer 1012 , a laptop or tablet PC 1014 , a mobile phone 1016 , a smartwatch or other wearable device 1018 , an in-home assistant device 1020 and/or a smart speaker 1022 . These devices are merely exemplary.
- each of the computing devices 1002 and 1012 - 1022 may include one or more processors, memory, data and instructions.
- the memory stores information accessible by the one or more processors, including instructions and data (e.g., machine learning models) that may be executed or otherwise used by the processor(s).
- the memory may be of any type capable of storing information accessible by the processor(s), including a computing device-readable medium.
- the devices 1002 and 1012 - 1020 may include all of the components normally used in connection with a computing device such as the processor and memory described above as well as a user interface subsystem for receiving input from a user and presenting information to the user (e.g., text, imagery and/or other graphical elements).
- the user interface subsystem may include one or more user inputs (e.g., at least one front (user) facing camera, a mouse, keyboard, touch screen and/or microphone) and one or more display devices (e.g., a monitor having a screen or any other electrical device that is operable to display information (e.g., text, imagery and/or other graphical elements).
- Other output devices, such as speaker(s) may also provide information to users.
- Devices such as smart speaker 1022 may not have a display screen, or may only use LEDs or other lights to visually present information to a user.
- the wireless devices 1012 - 1022 may communicate with a back-end computing system (e.g., server 1002 ) via one or more networks, such as network 1010 .
- the network and intervening nodes may include various configurations and protocols including short range communication protocols such as BluetoothTM, Bluetooth LETM, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, Wi-Fi and HTTP, and various combinations of the foregoing.
- short range communication protocols such as BluetoothTM, Bluetooth LETM, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, Wi-Fi and HTTP, and various combinations of the foregoing.
- Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces.
- computing device 1002 may include one or more server computing devices having a plurality of computing devices, e.g., a load balanced server farm or cloud computing system, that exchange information with different nodes of a network for the purpose of receiving, processing and transmitting the data to and from other computing devices.
- computing device 1002 may include one or more server computing devices that are capable of communicating with any of the computing devices 1012 - 1022 via the network 1010 , e.g., to receive production data from those devices and to share the model(s) once they are trained.
Abstract
The technology automatically selects a wireless network connection for a wireless device such as a laptop or a mobile phone based on predicted data rate. The wireless device is configured to receive physical and link layer measurements of access points. Based on the measurements, the wireless device predicts a data rate for each access point prior to forming a network connection therewith. The predicted data rate estimates a rate at which data is transferred from a transceiver of the wireless device to the access point once the wireless network connection is formed. The wireless device selects an access point with a highest predicted data rate, and the transceiver can then be instructed to form a connection with the selected access point.
Description
- This application is related to co-pending application Ser. No. ______, filed concurrently herewith and entitled System and Method for Wireless Roaming, the entire disclosure of which is incorporated herein by reference.
- Making good network or access point selection decisions is crucial for client computing devices that typically operate wirelessly, such as tablets, netbooks or other laptops, or mobile phones, which rely on network connectivity to access information or stream content. In most populated environments, multiple networks may be visible to a wireless device, and many of those networks may have multiple access points for a given location. There are two primary situations during which a wireless device must decide which wireless connection to initiate: automatic network selection and roaming. Automatic network selection or auto-connect occurs when a non-connected wireless device selects a network and specific access point within that network to connect with. Wireless roaming occurs when a wireless device transitions from one access point to another, or one network to another, which may involve seeking better performance such as with a stronger signal or lower communication error rate. Both situations face the same challenge —deciding which network and access point is the “best”.
- To select a network, existing approaches may compare physical attributes of connection options. This can involve scoring each option based on its signal strength, signal-to-noise (SNR) ratio, wireless channel, frequency band, or some combination of these. The decision may be made simply by selecting the option with the highest signal strength. However, these physical attributes are not always good proxies for wireless performance. Signal strength or signal-to-noise ratio does not dictate actual connection performance. A higher signal strength or signal-to-noise ratio in one connection option does not guarantee a higher throughput than another connection. In fact, connection performance cannot be evaluated until the connection is actually established. As a result, existing approaches may lead to technical problems, such as poor network or access point selections, resulting in suboptimal connections, unreliable connectivity, and/or unexpected user experiences such as due to insufficient buffering for a streaming app, frozen video on a conference call or timeouts waiting for browser search results.
- Aspects of the disclosure provide a technical solution to the technical problems present in network and/or access point selections. The technical solution disclosed herein evaluates potential connections and uses predicted data rates to make informed network and access point selection decisions. A prediction system can employ a plurality of different machine learning models for predicting data rates. For instance, there may be a machine learning model associated with each firmware and hardware combination for different types of wireless devices. This can enable a wireless computing device to avoid selecting access points that might have buffering, timeout or other connectivity issues.
- According to one aspect, a network selection method is provided. The method comprises: receiving, by one or more processors of a wireless device, at least one physical and link layer measurement for each of a plurality of access points, each access point providing wireless network coverage to a location of the wireless device; predicting, by the one or more processors, a data rate for each access point prior to forming a wireless network connection with the access point, the predicted data rate estimating a rate at which data is transferred from the wireless device to the access point once the network connection is formed; selecting, by the one or more processors, an access point with a highest predicted data rate from the plurality of the access points; and instructing a transceiver of the wireless device to form a connection with the selected access point.
- In one example, the method further comprises performing a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points. Predicting the data rate for each access point may be based on the at least one physical and link layer measurement for each access point. The at least one physical and link layer measurement may include one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data. In another example, the method may further comprise storing, in memory of the wireless device, pre-processed information indicating a relationship between a given data rate and at least one physical and link layer measurement detected at a time when the given data rate is determined. Predicting the data rate for each access point may be based on the at least one physical and link layer measurement associated therewith and the pre-processed information.
- The predicted data rate may approximate a data rate selected by a firmware of the wireless device. The data rate may be selectable when the wireless network connection is formed with the access point. Predicting the data rate for each access point may be done using a machine learning model trained on the pre-processed information. The pre-processed information may include testing data and production data. In one example, the wireless device may be connected to a current access point. The method may further comprise: determining a current data rate at which data is transferred from the wireless device to the current access point; comparing the highest predicted data rate to the current data rate; and instructing the transceiver of the wireless device to form a connection with the selected access point when the highest predicted data rate is higher than the current data rate.
- According to another aspect, a method for determining roaming of a wireless device is provided. The method comprises: determining, by one or more processors of the wireless device, whether to consider roaming when the wireless device is connected to a current access point, the wireless device being within a network coverage area of a plurality of access points, the plurality of access points including the current access point and at least one candidate access point; predicting, by the one or more processors, a data rate for each candidate access point prior to forming a network connection with a selected one of the at least one candidate access points, the predicted data rate estimating a rate at which data would be transferred from the wireless device to each respective candidate access point once the network connection is formed; comparing, by the one or more processors, a data rate of the current access point to the predicted data rate of each candidate access point to select a target access point with a highest data rate; and determining, by the one or more processors, to roam from the current access point to the target access point when the target access point is not the current access point. In one example, the method may further comprise roaming, by a transceiver of the wireless device, from the current access point to the target access point when the target access point is not the current access point.
- Predicting the data rate for each of the at least one candidate access point may be based on at least one physical and link layer measurement associated therewith. The at least one physical and link layer measurement may include one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data. The method may further comprise performing a roam scan to gather the at least one physical and link layer measurement for each of the at least one candidate access point. In one example, determining whether to consider roaming may include comparing the data rate of the current access point to a threshold.
- The method may further comprise storing, in memory of the wireless device, pre-processed information indicating a relationship between a given data rate and at least one physical and link layer measurement detected at a time when the given data rate is determined. Predicting the data rate for each candidate access point may be done using a machine learning model trained on the pre-processed information, the pre-processed information including testing data and the production data. Predicting the data rate for each of the at least one candidate access point may be based on at least one physical and link layer measurement associated therewith and the pre-processed information.
- In one example, determining whether to consider roaming may include evaluating at least one of the following: signal strength of the current access point, a system requirement of the wireless device, an application currently running on the wireless device, and historical connection performance.
- A further aspect provides a wireless device within a network coverage area of a plurality of access points. The wireless device comprises: a transceiver; and one or more processors operatively coupled to the transceiver. The one or more processors may be configured to: receive at least one physical and link layer measurement for each of the plurality of access points; predict a data rate for each access point prior to forming a network connection with the access point, the predicted data rate estimating a rate at which data is transferred from the transceiver to the access point once the network connection is formed; select an access point with a highest predicted data rate; and instruct the transceiver to form a wireless connection with the selected access point.
- In one example, the one or more processors may be configured to: performing a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points. The one or more processors may predict the data rate for each access point based on the at least one physical and link layer measurement for each access point. The at least one physical and link layer measurement may include one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data.
- Yet another aspect provides a wireless device within a network coverage area of a plurality of access points. The wireless device comprises: a transceiver; and one or more processors operatively coupled to the transceiver. The one or more processors may be configured to: determine whether to consider roaming when the transceiver is connected to a current access point of a plurality of access points, the plurality of access points including the current access point and at least one candidate access point; predict a data rate for each candidate access point prior to forming a network connection with a selected one the candidate access points, the predicted data rate estimating a rate at which data would be transferred from the transceiver to each respective candidate access point once the network connection is formed; compare a data rate of the current access point to the predicted data rate of each candidate access point to select a target access point with a highest data rate; and determine to roam from the current access point to the target access point when the target access point is not the current access point.
- In one example, the one or more processors may be further configured to instruct the transceiver to roam from the current access point to the target access point when the target access point is not the current access point. The one or more processors may be configured to predict the data rate for each of the at least one candidate access point based on at least one physical and link layer measurement associated therewith.
-
FIG. 1 illustrates an example access point environment that supports wireless connections in accordance with various aspects of the present disclosure. -
FIG. 2 illustrates a functional diagram of an example wireless device including a system for predicting data rates in accordance with aspects of the disclosure. -
FIG. 3 illustrates a flow diagram showing an exemplary method for network selection in accordance with aspects of the disclosure. -
FIG. 4A illustrates a functional diagram of another example wireless device including a system for deciding roaming in accordance with aspects of the disclosure. -
FIG. 4B illustrates another functional diagram of an example wireless device including a system for deciding roaming in accordance with aspects of the disclosure. -
FIG. 5 illustrates a flow diagram showing an exemplary method for deciding roaming in accordance with aspects of the disclosure. -
FIG. 6 illustrates a flow diagram showing another exemplary method for deciding roaming in accordance with aspects of the disclosure. -
FIG. 7 illustrates a flow diagram showing yet another exemplary method for deciding roaming in accordance with aspects of the disclosure. -
FIG. 8 illustrates an example visualization 800 for a non-linear multivariate regression model, in accordance with aspects of the disclosure. -
FIG. 9 illustrates an example state-based roaming approach in accordance with aspects of the disclosure. -
FIGS. 10A-B illustrate a system for use with aspects of the technology. - Aspects of the technology employ predictive data rates to make network and/or access point selections by a wireless computing device. This may include modeling various firmware and hardware combinations that evaluate various characteristics and performance of communication links. The result is a reliable approach for selecting the network and/or access point, thereby providing a performant wireless experience to the user. One embodiment of the technical solution performs automatic network selection, which includes predicting a data rate for each access point within a wireless communication range of the wireless computing device, selecting an access point with the highest predicted data rate, and automatically forming a connection with the selected access point. Another embodiment of the technical solution automatically makes a roaming decision about whether to roam from a current access point that the wireless computing device is currently connected with, which includes predicting a data rate for each candidate access point, comparing a data rate of the current access point to the predicted data rates of the candidate access points, selecting a target access point with the highest data rate, and determining to roam to the target access point if the target access point is not the current access point. The technical solution enables the wireless device to avoid buffering or timeout issues, and flexibly supports different product builds with firmware/hardware configurations. The technical solution provides a reliable and accurate approach to select a network and/or access point to ensure a performant wireless experience to the user. The technical solution may benefit any project, wireless device or device that implements automatic network selection and Wi-Fi roaming. The present technology will now be described with respect to the following exemplary systems and methods.
- The term “access point” or “AP” is used to denote a device through which wireless devices can connect to a basic service set (“BSS”) within a wireless network. The term “current access point” is used to denote the access point that a wireless device is currently part of. The term “candidate access point” is used to denote an available access point that a wireless device is capable of connecting with. The candidate access point may include the current access point. Wireless devices may include a user's mobile phone, their tablet, netbook or other laptop PC, a wearable device (e.g., a smartwatch or head-mounted display), etc. The term “basic service set” or “BSS” is used to denote a subset of a network including one access point and its associated wireless devices. The term “extended service set” or “ESS” is used to denote one or more BSSs forming a larger, single network. The term “roaming” used herein describes when a wireless device moves from one BSS to another within an ESS, unless otherwise specified. The term “current BSS” is used to denote the BSS that a wireless device is currently part of. The term “candidate BSS” is used to denote an available BSS that a wireless device is capable of joining. The candidate BSS may include the current BSS. The term “non-candidate BSS” is used to denote a BSS that is not current or candidate. The term “exponentially weighted moving average” or “EWMA” is used to denote a technique used to average time series data where older data are given exponentially lower weights. This technique can be used to smooth volatility in time series data, especially when the measurement itself has uncertainty.
-
FIG. 1 illustrates an exampleaccess point environment 100 that supports roaming in accordance with aspects of the present disclosure. Theaccess point environment 100 may include a plurality ofaccess points corresponding BSS first access point 102 a or itscorresponding BSS 104 a may provide network coverage towireless devices second access point 102 b or itscorresponding BSS 104 b may provide network coverage towireless devices third access point 102 c or itscorresponding BSS 104 c may provide network coverage towireless devices FIG. 1 , thewireless device 110 a may communicate with any one of theaccess points first BSS 104 a, thesecond BSS 104 b and thethird BSS 104 c). Different arrangements in other examples are possible. - Referring to
FIG. 2 , thewireless device 110 a may include a BSS datarate prediction system 202. Theprediction system 202 may be implemented by instructions stored inmemory 204. Modules and instructions within theprediction system 202 may be executable by one ormore processors 206. Theprediction system 202 may predict a data rate for an access point or BSS prior to forming a network connection between thewireless device 110 a and the BSS's access point. The data rate may refer to a physical layer (PHY) rate. “Data rate” and “PHY rate” may be used interchangeably in this document. The data rate may represent the speed at which data is transferred between the wireless device and the access point of the BSS. The data rate may be measured in, e.g., megabits per second (Mbps). The data rate may serve as a performance measure of the access point or BSS, indicating its physical layer connection quality. The higher the data rate, the better the connection quality of the access point or BSS. For example, an access point or BSS with a data rate of 400 Mbps is more performant than an access point or BSS with a data rate of 200 Mbps. - The data rate may refer to the rate that data is transferred from the wireless device to the access point of the BSS, namely, the transmit (TX) data rate. In one example, the TX rate may refer to the transmit physical layer (TX PHY) data rate. The TX PHY data rate may not be known until the firmware of the wireless device selects this data rate after a connection is established between the wireless device and the access point or BSS. In conventional arrangements, algorithms used by the firmware to select the data rate may be complex and proprietary. In such arrangements, upper layers of the WLAN stack may not have insights as to how the firmware selects the data rate, and may not predict how the firmware will select the data rate prior to forming the connection.
- Unlike existing approaches, the
prediction system 202 is configured to predict the data rate of an access point or BSS prior to forming a network connection between thewireless device 110 a and the access point of the BSS. The predicted data rate may closely approximate the data rate that the firmware running on thewireless device 110 a would select upon forming the connection with the access point or BSS. Theprediction system 202 may predict the data rate for an access point or BSS based on data associated with the access point or BSS, including one or more of the following: signal strength, signal strength velocity, signal-to-noise ratio (SNR), frequency band, 802.11 mode, and historical data, among other possibilities. The signal strength may refer to exponentially weighted moving average (EWMA) signal strength, may be measured in decibels per milliwatt (dBm). The SNR may refer to EWMA SNR. The signal strength velocity may refer to a rate of change of the EWMA signal strength over time, and may be measured in dBm/s. The 802.11 mode may refer to the Wi-Fi standard under which the access point is operating, which determines the theoretical maximum speed of the connection. Historical data may include any of the above data gathered over some duration of time. Some of the above data may be gathered when the access point or BSS is observed via one or more roam scans. Roam scans allow the client device to observe the signal characteristics of the access point or BSS, including signal strength, frequency band, and signal-to-noise ratio, as well as the 802.11 mode. Multiple roam scans allow the client device to calculate change in signal strength over time, or signal strength velocity. In one example, thewireless device 110 a may perform a burst of several active scans targeting one or more access points or BSSs to gather time series data for EWMA and velocity calculations of each access point or BSS. - The
prediction system 202 may implement one or moremachine learning models 212 to perform data rate prediction. According to one aspect, the model(s) 212 may be a multivariate non-linear regression model(s). The machine learning model(s) 212 may employ, by way of example, a Transformer-type architecture, a convolutional neural network (CNN), recurrent neural network (RNN), long short-term memory (LSTM) network or combination thereof. Other machine learning architectures may be used, so long as they support multivariate non-linear regression. Themachine learning model 212 may be trained withpre-processed information 210, including, for example, testing data and production data. As shown inFIG. 2 , thepre-processed information 210 may be stored in thememory 204. - There may be different types of pre-processing. In one example, pre-processing may include filtering out idle rates. When a device does not have data to be sent, its rate can drop to some idle value. Those idle rates may not be representative of the true link capacity. Pre-processing may be used to filter out such idle rates, if they have not been removed beforehand. As a result, the machine learning model(s) 212 may be trained with data sets that do not contain idle rates.
- Training the machine learning model(s) 212 may comprise inputting sets of physical attribute values from training examples in the pre-processed data into the machine learning model(s) 212 and processing them to generate, for each set of physical attribute values, a respective predicted data rate. Each predicted data rate is compared to a corresponding ground truth data rate in the pre-processed data, for example using a loss function, such as an L2 loss function. Based on the comparison, parameters of the machine learning model(s) 212 are updated. For example, an optimization procedure, such as stochastic gradient descent, may be applied to the loss function to determine the parameter updates. The process of updating the parameters of the machine learning model(s) 212 may be iterated until a threshold condition is satisfied, such as a threshold number of training epochs and/or a threshold performance on a test dataset being reached.
- The testing data may refer to data gathered through tests before a product launch. The testing data may include physical attribute values of a BSS and the corresponding data rate selected by a test wireless device when connected to an access point of the BSS. The testing data may be gathered from tests performed on wireless devices with different hardware. Hardware tests may include rate versus range tests, and bespoke PHY rate tests, among others. In one example, during an automated test, a test wireless device may be repeatedly connected to an access point of a BSS with a different permutation of physical attribute values. The physical attributes may represent radio frequency attributes of a connection. The physical attributes may include, but are not limited to, signal strength, signal strength velocity, SNR, frequency band, mode and/or wireless channel. After each connection, the physical attribute values as well as the data rate selected by the firmware of the test wireless device may be added to the pre-processed information for training the
machine learning model 212. - The production data may refer to data gathered after a product launch. The production data may include metrics of an access point or BSS and corresponding data rate selected by a firmware of a wireless device when connected to the access point of the BSS. The production data may be gathered from wireless devices in the field. By way of example, when a wireless device connects to an access point or BSS, the wireless device may record the data rate selected by its firmware as well as a metric of the access point or BSS connection statistics at the time when the data rate is selected. The metric may include radio frequency measurements of the access point or BSS connection. The metric may include, but not limited to, signal strength, SNR, frequency band, mode, noise, and wireless channel, among others. The selected data rate as well as the metric of the access point or BSS connection statistics may then be added to the pre-processed information for training the
machine learning model 212. This may be done periodically or upon request for one or more devices operating in the field. The machine learning model(s) 212 may be trained at the wireless device, or may be trained by a backend system and then sent to the wireless device for use by theprediction system 202. An example machine learning training architecture is described further below. - Once trained using the pre-processed information, the
machine learning model 212 may be used by theprediction system 202 to predict the data rate of an access point or BSS, even before thewireless device 110 a forms a network connection with the access point or BSS. The predicted data rate may indicate the firmware running on thewireless device 110 a would choose if thewireless device 110 a were to connect with the access point or BSS. The predicteddata 214 may be stored in thememory 204. Themachine learning model 212 may predict the data rate based on one or more physical and link layer measurements of the access point or BSS. Physical layer may refer to open systems interconnection (OSI) model physical layer, and measurements of which may include signal strength and frequency, among others. Link layer measurements may include 802.11 mode and data rate, among others. Physical and link layer measurements may include one or more of the following data related to the access point or BSS obtained through one or more roam scams: signal strength, SNR, frequency band, wireless channel, and mode, among others. In one example, themachine learning model 212 may predict the data rate based on either the signal strength or SNR, or a combination thereof. By relying on the signal strength and the signal noise ratio, either alone or in combination, themachine learning model 212 may generate an accurate prediction of the data rate. - The data rate predicted by the
machine learning model 212 may represent a direct, objective measurement of the potential performance of the access point or BSS, serving as an indicator for potential connection quality of the access point or BSS. - In one example, the
wireless device 110 a may engage an automatic network selection process. During this process, thewireless device 110 a may automatically perform a roam scan to capture data or physical and link layer measurements of each surrounding access point or BSS. Theprediction system 202 may predict a data rate for each access point or BSS based on its physical and link layer measurement, and compare all access points or BSSs based on their predicted data rates. To ensure that thewireless device 110 a would receive the best connection quality, theprediction system 202 may select the access point or BSS with the highest predicted data rate, and instruct atransceiver 208 to establish a connection with the selected access point or BSS. -
FIG. 3 presents a flow chart depicting an exemplary automatic network selection process based on predicted data rates. At 302, one ormore processors 206 of thewireless device 110 a may receive at least one physical and link layer measurement for each of a plurality of access points or BSSs viatransceiver 208. Each access point or BSS may provide network coverage to where thewireless device 110 a resides. At 304, the processor(s) 206 may predict a data rate for each access point or BSS prior to forming a network connection with a given access point or BSS. The predicted data rate may estimate a rate at which data would be transferred from thewireless device 110 a, or thetransceiver 208 of thewireless device 110 a, to the access point or BSS once the network connection is formed. At 306, the processor(s) 206 may select a BSS with a highest predicted data rate from the plurality of the access points or BSSs. At 308, the processor(s) 206 may instruct a transceiver to form a connection with the selected access point or BSS. - The data rate may be a physical layer rate. The processor(s) 206 may perform a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points. The processor(s) 206 may predict the data rate for each access point based on the at least one physical and link layer measurement for each access point. The at least one physical and link layer measurement may include one or more of the following: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio and historical data. The
memory 204 may store pre-processed information indicating a relationship between a data rate and at least one physical and link layer measurement detected at the time when the data rate is determined. The processor(s) 206 may predict the data rate for each access point or BSS based on the at least one physical and link layer measurement associated with the access point or BSS and the pre-processed information. The predicted data rate may approximate a data rate selected by a firmware of the wireless device, wherein the firmware selects the data rate when the wireless network connection is formed with the access point. - In one embodiment, the wireless device may be connected to a current access point. The processor(s) 206 may determine a current data rate at which data is transferred from the wireless device to the current access point. The processor(s) 206 may compare the highest predicted data rate to the current data rate. The processor(s) 206 may instruct the transceiver of the wireless device to form a connection with the selected access point when the highest predicted data rate is higher than the current data rate.
- In some examples, the
prediction system 202 may have a plurality of differentmachine learning models 212 for predicting data rates. For instance, theprediction system 202 may have amachine learning model 212 for each firmware and hardware combination of wireless devices, or for each device class. Given a device class of thewireless device 110 a (e.g., laptop, smartphone, smart speaker, smart display, etc.), theprediction system 202 may select a suitablemachine learning model 212 to perform data rate prediction. - Different machine learning models may be used for different physical environments. For example, one machine learning model may predict data rates for outdoor connections, such as in the case when the
wireless device 110 a is positioned in an outdoor environment. Another machine learning model may predict data rates for indoor connections, such as in the case when thewireless device 110 a is positioned in an indoor environment. - In another example, the
prediction system 202 may implement a machine learning model that predicts a data rate for each access point or BSS, and calculates a score for each access point or BSS based on the predicted data rate. Themachine learning model 212 may adjust the score by taking into account different situations. For example, signal strength and/or SNR of an access point or BSS may vary widely depending on whether thewireless device 110 a is positioned indoor or outdoor. The machine learning model may increase the score of the access point or BSS if thewireless device 110 a is positioned outdoors, and decrease the score if thewireless device 110 a is positioned indoor (or vice versa, depending on the scenario). Theprediction system 202 may compare access points or BSSs based on their scores, and select the access point or BSS with the highest score to form a connection. - In yet another example, the
prediction system 202 may have different machine learning models for different connection scenarios. For instance, theprediction system 202 may have a first machine learning model for predicting data rates of all surrounding access points or BSSs when thewireless device 110 a is not connected to any access point or BSS, as discussed in Section 2.2. Theprediction system 202 may have a second machine learning model for predicting data rates during a roaming determination process. When thewireless device 110 a is connected to a current access point or BSS, thewireless device 110 a may assess roaming needs by determining if there is any other access point or BSS that would provide a better connection quality than the current access point or BSS. The second machine learning model may predict the data rate for each candidate access point or BSS. The predicted data rates of candidate access points or BSSs may then be compared to a data rate of the current access point or BSS to determine if there is any candidate access point or BSS that exceeds the performance of the current access point or BSS, in which case thewireless device 110 a may choose to roam from the current access point or BSS to the candidate access point or BSS. An example implementation approach for making roaming decisions is provided inSection 3 below. -
FIG. 4A illustrates anotherembodiment 400 a of thewireless device 110 a, in which the BSS datarate prediction system 202 may form part of aBSS evaluation system 400 for making roaming decisions. Thewireless device 110 a may make roaming decisions when it is currently connected to an access point or BSS. For example, initially, thetransceiver 208 of thewireless device 110 a may establish a connection with a first access point to join a first BSS, such asBSS 104 a, while residing at a position covered byother access points BSSs first access point 102 a may be regarded as the current access point, whileother access points first BSS 104 a, may be regarded as the current BSS, while theother BSSs - The
evaluation system 400 may evaluate current access point or BSS adequacy, compare the current access point or BSS to candidate access point or BSSs, select a target access point or BSS for roaming based on the comparison, and ultimately make a roaming decision. Once theevaluation system 400 decides to roam to a candidate access point or BSS, such asaccess point 102 b or itscorresponding BSS 104 b, thetransceiver 208 may then roam from thecurrent access point 102 a (or itscorresponding BSS 104 a) to thecandidate access point 102 b (or itscorresponding BSS 104 b). - An example evaluation system is described in co-pending application Ser. No. ______, and entitled System and Method for Wireless Roaming. For instance, with regard to roaming decisions, the system may also evaluate a current connection, evaluate candidate connections, and then make an assessment based on certain criteria. This can include determining a quality score for each connection, and automatically deciding to roam to the connection with the highest quality score. When evaluating the current connection, the system may consider various aspects such as signal strength, system requirements, user needs (e.g., based on the type of application(s) being run), and/or historical connection performance. The user needs may be determined based on the application(s) currently running on the wireless device. For instance, the computing device may have one or more of the following applications in progress: podcast download or media streaming in progress, large file transfer in progress, or cloud gaming in progress. The user needs may affect the quality score of the connection. For instance, podcast download, media streaming and large file transfer may place importance on stability of the connection, causing the quality score to be heavily influenced by connection stability. On the other hand, cloud gaming may place importance on latency of the connection, causing the quality score to be heavily influenced by connection latency. When evaluating candidate connections, similar information may be considered to the extent that it is available for the different connections. Here, there may be little to no historical connection performance information available for certain candidates, because those candidates may not have been used by the wireless device within a certain timeframe (e.g., within the last 12 hours, last 7 days, or other historical timeframe), causing a reduction in their quality scores. Based on these evaluations, the system can assess the advantages and disadvantages of changing from a current connection to a different connection in connection with the prediction approaches described herein. For instance, roaming to a connection that has performed well in the past can carry less downside risk or be less likely to cause an interruption to the user, whereas roaming when an app involves a latency dependent task (e.g., streaming a movie or other content), is more likely to cause a disruption (and hence have higher “risk”).
- In one example 400 b as illustrated in
FIG. 4B , theevaluation system 400 may be part of wireless local area network (WLAN)implementation 402, which may include aWLAN management module 404 and WLAN spec anddriver implementation 406. Theevaluation system 400 may perform a roam scan or a burst of several active scans to discover any candidate access point or BSS within a communication range of thewireless device 110 a. Theevaluation system 400 may include ascan manager 422 for managing frequency of roam scans. Theevaluation system 400 may also include a savednetworks manager 410 to keep track of information related to each access point or BSS, including the current access point or BSS as well as each candidate access point or BSS. The savednetworks manager 410 may have a data structure 412 (maintained in memory 204) dedicated to each access point or BSS, storing connection quality data associated with each access point or BSS. The connection quality data stored in thedata structure 412 may include one or more of the following:data 414 related tolayer 1 of open systems interconnection (OSI),data 416 related toOSI layer 2,data 418 related toOSI layer 3, anddata 420 related to wireless local area network (WLAN) management module. In the example 400 a illustrated inFIG. 4A , thedata structure 412 may includeOSI layer 1data 414,OSI layer 2data 416 andOSI layer 3data 418. In the example 400 b illustrated inFIG. 4B , thedata structure 412 may includeOSI layer 1data 414,OSI layer 2data 416,OSI layer 3data 418 and WLANmanagement module data 420. - The
OSI layer 1data 414 may include physical layer data, including, but not limited to, EWMA signal strength, signal strength velocity, EWMA SNR, channel and channel bandwidth. TheOSI layer 1data 414 may be gathered using scanning. In one example, for the current access point or BSS, theOSI layer 1data 414 may be obtained by astate machine 424 at theWLAN management module 404 at regular intervals, such as every second. For any candidate access point or BSS, itsOSI layer 1data 414 may be gathered byWLAN management module 404 when the candidate access point or BSS is observed in a roam scan. Theevaluation system 400 may do a burst of several active scans targeting some of the candidate access points or BSSs to gather time series data for EWMA and velocity calculations. The state machine may implement a state-based roaming approach as discussed further below. - The
OSI layer 2data 416 may include link-layer data, including, but not limited to, data rate, radio resource management (RRM) reports, and BSS transition management (BTM) indications. TheOSI layer 2data 416 may be gathered from reports provided by the firmware. The RRM reports may contain data for any access points or BSSs that are reported on, such as channel, frequency, among others. Theprediction system 202 may rely on data contained in the RRM report to predict the data rate for the candidate access point or BSS. - When the
wireless device 110 a is connected to a current access point or BSS, the data rate for the current access point or BSS may be observed by thestate machine 424 and stored in thedata structure 412. During the connection, the data rate for the current access point or BSS may vary significantly. For instance, the data rate may drop very low when the wireless device is idle with no data to send. Theevaluation system 400 may filter out the idle rates, such that data rates may be only considered when data is actually flowing. Once filtered, the remaining data rate values may then be smoothed using the exponentially weighted moving average (EWMA). Sometimes, measurements may not be obtained at perfect intervals. For example, some of the periodic measurements of data rates may be dropped when the wireless device is idle. As a result, theevaluation system 400 may weigh older data, even if it is the most recent usable data. Theevaluation system 400 may use time in the EWMA weight, rather than number of measurements. The amount of weight the new measurement has in the average may be proportional to the time since the measurement was last adjusted. - Based on the above computation, the
data structure 412 may store an exponentially weighted moving average physical layer (EWMA PHY) rate for the current access point or BSS, including the exponentially weighted moving average or smoothed transmit physical layer (EWMA TX PHY) rate. The EWMA PHY rate or the EWMA TX PHY rate may be relied on as the data rate of the current access point or BSS when evaluating adequacy of the current access point or BSS, and/or when comparing the current access point or BSS to any candidate access point or BSS during the roaming determination process. - The
OSI layer 3data 418 may include network layer data, such as current Internet reachability, historical Internet reachability and gateway reachability, among other possibilities. TheOSI layer 3data 418 may be primarily gathered through feedback from other system components, including but not limited to netstack and network policy, among other possibilities. In one example, theOSI layer 1data 414,OSI layer 2data 416 andOSI layer 3data 418 may be gathered and/or updated without relying on theWLAN management module 404 or components thereof. - The WLAN
management module data 420 may include historical data for each connection, such as, time-to-connect, connection duration, disconnect reason, disconnect signal strength, and average TX PHY rate, among others. The WLANmanagement module data 420 may be gathered by thestate machine 424. - The
evaluation system 400 may regularly monitor and update thedata structure 412 for each access point or BSS. Thestate machine 424 may update thedata structure 412 for the current access point orBSS 104 a periodically. For a candidate access point or BSS, theevaluation system 400 may update itsdata structures 412 after a roam scan or after receiving an RRM report, if the RRM report contains information related to the candidate access point or BSS. Theevaluation system 400 may evaluate adequacy of the current access point orBSS 104 a based on its data rate, such as the EWMA PHY rate or the EWMA TX PHY rate described above. For example, if the data rate indicates that the current connection is poor or has a degrading connection quality based on comparison to some tunable threshold, or that the current connection could become poor in the near future, theevaluation system 400 may decide that roaming needs to be considered. An example of a data rate indicating that a connection is poor may be a data rate of 30 Mbps on a connection theoretically capable of 300 Mbps. An example of data rates indicating that a connection is degrading may be the data rate decreasing from 100 Mbps to 75 Mbps to 50 Mbps, and so on. An example tunable threshold may be to consider roaming below 50 Mbps, which could be adjusted up or down. - Once the
evaluation system 400 decides that the roaming should be considered, theevaluation system 400 may then evaluate candidate access points or BSSs to identify if there is any candidate access point or BSS that would offer a better connection than the current access point or BSS. If theevaluation system 400 identifies a candidate access point or BSS that is better than the current access point or BSS, theevaluation system 400 may proceed with roaming to the candidate access point or BSS. On the other hand, if no candidate access point or BSS is better than the current access point or BSS, theevaluation system 400 may decide not to roam. Theevaluation system 400 may evaluate candidate access points or BSSs based on their predicted data rates generated by theprediction system 202. Theprediction system 202 may predict the data rate for each candidate access point or BSS based on data contained in itsdata structure 412, including but not limited to, signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio and historical data, among others. Theevaluation system 400 may store the predicted data rates for the candidate access point or BSSs in theirrespective data structures 412. - The
evaluation system 400 may compare all access points or BSSs based on their data rates, such as comparing the data rate of the current access point or BSS to the predicted data rates of candidate access points or BSSs. The data rate of the current access point or BSS may refer to the EWMA PHY rate or the EWMA TX PHY rate of the current access point or BSS as discussed earlier. Theevaluation system 400 may select the access point or BSS with the highest data rate. If the data rate of the current access point or BSS is greater than the predicted data rate of each candidate access point or BSS, then the current access point or BSS is selected by theevaluation system 400. On the other hand, if the predicted data rate of a candidate access point or BSS is greater than the data rate of the current access point or BSS and also greater than the predicted data rate of each remaining candidate access point or BSS, then the candidate access point or BSS with the highest predicted data rate is selected by theevaluation system 400. Once an access point or BSS is selected, if that access point or BSS is the current access point or BSS, then theevaluation system 400 may continuously maintain connection with the current access point or BSS, and decide not to roam anywhere. On the other hand, if the selected access point or BSS is a candidate access point or BSS, not the current access point or BSS, then theevaluation system 400 may initiate a roam to the selected candidate access point or BSS. -
FIG. 5 presents a flow chart depicting an example process for making a roaming decision. At 502, one ormore processors 206 may determine whether to consider roaming when thewireless device 110 a is connected to a current access point or BSS, e.g., by implementing a BSS evaluation system. The wireless device may be within a network coverage area of a plurality of access points or BSSs. The plurality of access points or BSSs may include the current access point or BSS and at least one candidate access point or BSS. At 504, the processor(s) 206 may predict a data rate for each candidate access point or BSS prior to forming a network connection with the candidate access point or BSS, e.g., by implementing a BSS data rate prediction system. The predicted data rate may estimate a rate at which data is transferred from the wireless device to the candidate access point or BSS once the network connection is formed. At 506, the processor(s) 206 may compare a data rate of the current access point or BSS to the data rate of each candidate access point or BSS to select a target access point or BSS with a highest data rate. At 508, the processor(s) 206 may determine to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS. - The processor(s) 206 may instruct the
transceiver 208 to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS. The processor(s) 206 may predict the data rate for each candidate access point or BSS based on at least one physical and link layer measurement associated therewith. The at least one physical and link layer measurement may include one or more of the following: signal strength, frequency band, mode, signal strength velocity, SNR and historical data. The processor(s) 206 may perform a roam scan to gather the at least one physical and link layer measurement for each of the at least one candidate access point. The processor(s) 206 may determine whether to consider roaming by comparing the data rate of the current access point or BSS to a threshold. Thememory 204 may store pre-processed information indicating a relationship between a data rate and at least one physical and link layer measurement detected at the time when the data rate is determined. The processor(s) 206 may predict the data rate for each candidate access point or BSS based on at least one physical and link layer measurement associated therewith and the pre-processed information. -
FIG. 6 presents a flow chart illustrating another example process for determining roaming. At 602, thememory 204 may record data associated with each of a plurality of access points or BSSs that are within a communication range of thewireless device 110 a. The plurality of access points or BSSs may include the current access point or BSS that thewireless device 110 a is connected to and at least one candidate access point or BSS. At 604, one ormore processors 206 may determine a data rate for the current access point or BSS. At 606, theprocessor 206 may determine whether to consider roaming by evaluating the data rate of the current access point or BSS. At 608, theprocessor 206 may predict a data rate for each of the at least one candidate access point or BSS prior to forming a network connection with the candidate access point or BSS. The processor(s) 206 may predict the data rate for each candidate access point or BSS based on at least one physical and link layer measurement of the candidate access point or BSS. The predicted data rate may estimate a rate at which data is transferred from the wireless device to the candidate access point or BSS once the network connection is formed. At 610, theprocessor 206 may select a target access point or BSS with a highest data rate from the plurality of the access points or BSSs. At 612, theprocessor 206 may determine to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS. - In another embodiment, instead of relying on the data rates of access points or BSSs, the
evaluation system 400 may perform an access point or BSS evaluation and making roaming decisions by ranking access points or BSSs based on connection quality data stored in thedata structure 412 of each access point or BSS. Theevaluation system 400 may rank all access points or BSSs including the current access point or BSS and all candidate access points or BSSs based on their connection quality data, and select the access point or BSS with the highest rank. If the current access point or BSS has the highest rank, then the current access point or BSS is selected by theevaluation system 400. If the selected access point or BSS is the current access point or BSS, then theevaluation system 400 may not initiate roaming. If the selected access point or BSS is not the current access point or BSS, thenevaluation system 400 may initiate a roam to the selected access point or BSS. In one embodiment, thedata structure 412 of each access point or BSS may include its historical ranking record. -
FIG. 7 presents a flow chart illustrating yet another example process for determining roaming. At 702, thememory 204 may record connection quality data associated with each of a plurality of access points or BSSs. At 704, one ormore processors 206 may determine whether to consider roaming when thewireless device 110 a is connected to a current access point or BSS. At 706, theprocessor 206 may rank the plurality of access points or BSSs based on their recorded connection quality data. At 708, theprocessor 206 may select a target access point or BSS with a highest rank from the plurality of the access points or BSSs. And at 710, theprocessor 206 may determine to roam from the current access point or BSS to the target access point or BSS when the target access point or BSS is not the current access point or BSS. - As noted above, according to one aspect the model(s) may employ multivariate non-linear regression.
FIG. 8 illustrates an example visualization 800 for a non-linear multivariate regression model with two independent variables. This visualization plots the data rate along a first axis, the signal-to-noise ratio along a second axis, and a received signal strength indication (RSSI) along a third axis perpendicular to the other two axes. As shown, the higher the RSSI and higher the signal-to-noise ratio, the higher the potential data rate. Given the RSSI and signal-to-noise ratio observed for an access point or BSS, this model could be used to predict the data rate that would be achieved by connecting to that access point or BSS. - The
memory 204 may be databases that store information accessible by the processor(s) 206, including, but not limited to: instructions and data (e.g., to implement modules for theprediction system 202 and/or the evaluation system 400) that may be executed or otherwise used by the processor(s). The memory may be of any type capable of storing information accessible by the processor(s), including a computing device-readable medium. The memory may be a non-transitory computer readable medium such as a hard-drive, memory card, optical disk, solid-state, etc. Systems may include different combinations of the foregoing, whereby different portions of the instructions and data are stored on different types of media. The instructions may be any set of instructions to be executed directly (such as machine code) or indirectly (such as scripts) by the processor(s). For example, the instructions may be stored as computing device code on the computing device-readable medium. In that regard, the terms “instructions”, “modules” and “programs” may be used interchangeably herein. The instructions may be stored in object code format for direct processing by the processor, or in any other computing device language including scripts or collections of independent source code modules that are interpreted on demand or compiled in advance. - The processor(s) 206 may be any conventional processors, such as commercially available GPUs, CPUs, TPUs, etc. Alternatively, each processor may be a dedicated device such as an ASIC or other hardware-based processor. Although
FIG. 2 functionally illustrates the processors' memory as being within the same block, such devices may actually include multiple processors, computing devices, or memories that may or may not be stored within the same physical housing. Similarly, the memory may be a hard drive or other storage media located in a housing different from that of the processor(s). Accordingly, references to a processor or computing device will be understood to include references to a collection of processors or computing devices or memories that may or may not operate in parallel. - Each wireless device 110 a-g may include one or more components normally used in connection with a computing device such as the processor and memory described above as well as a user interface subsystem for receiving input from a user and presenting information to the user (e.g., text, imagery and/or other graphical elements). The user interface subsystem may include one or more user inputs (e.g., at least one front (user) facing camera, a mouse, keyboard, touch screen and/or microphone) and one or more display devices (e.g., a monitor having a screen or any other electrical device that is operable to display information (e.g., text, imagery and/or other graphical elements). Other output devices, such as speaker(s) may also provide information to users. Example wireless devices include, but not limited to, a mobile phone, a laptop, a wearable computing device (e.g., a smartwatch or a head-mounted display), a smart home device such as a smart display or a speaker, a desktop PC, among other possibilities. Each wireless device may be mobile or stationary.
- Each BSS 104 a-c may support a network. The network may include various configurations and protocols including short range communication protocols such as Bluetooth™, Bluetooth LE™, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, Wi-Fi and HTTP, and various combinations of the foregoing. Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces.
-
FIG. 9 illustrates an example 900 of a state-based roaming approach that can be employed by state machine 224 executed by the processor(s) 206. Here, the solid boxes indicate different states, the containers indicate data sources, the solid arrows indicate state transitions, and the dashed arrows indicate data flow. The states includeconnected state 902, evaluatecurrent connection state 904, evaluate candidate connections state 906, assessstate 908, roamstate 910 and connectingstate 912.Data source 914 provides data to the evaluatecurrent connection state 904, anddata source 916 provides data to the evaluatecurrent connection state 906. - While in the
connected state 902, the station (client device) is wireless connected to a serving BSS (e.g.,BSS 104 a ofFIG. 1 ) viaaccess point 102 a. One or more other BSSs (e.g.,BSSs FIG. 1 ) may be suitable roaming candidates. As shown byarrow 918, periodically such as every N seconds or upon a particular conditional event (e.g., a signal), the state may transition to the evaluatecurrent connection state 904. Here, data fromdata source 914 is evaluated. This data may include one or more of signal data, data rates, reachability information, a system requirement(s), etc. Upon determination that the current connection is adequate, the state returns to theconnected state 902 as shown byarrow 920. - Upon determination that the current connection is inadequate, as shown by
arrow 922 the state transitions to the evaluateconnected connections state 906. Here, data fromdata source 916 is evaluated. This data may include one or more scan signal data, historical data, BTM indications, etc. Upon evaluation, the state machine proceeds to the assessstate 908, with the data flow including the current connection evaluation and roam reasons, if applicable, as shown by dashedarrow 924. Atblock 908, the assessment may evaluate potential harm of roaming to candidate access points or BSSs and anticipated improvement by roaming, such as described in the various scenarios and examples above. Here, if the system (e.g.,BSS evaluation system 202 ofFIG. 2 ) determines that roaming is not currently the best option, then the state returns to theconnected state 902 as shown byarrow 926. - However, when it is determined that roaming is currently the best option, then the state transitions to roam
state 910 as shown byarrow 928. Once roaming is complete, the state transitions to the connectingstate 912, which includes selected roaming candidate data as shown by dashedarrow 930. From here, using the roaming candidate data, the state will enter theconnection state 902. - Training may be performed on one or more tensor processing units (TPUs), CPUs or other computing architectures in order to implement the models discussed herein. According to one aspect, the model(s) 212 may be a multivariate non-linear regression model(s). One example computing architecture is shown in
FIGS. 10A and 10B . In particular,FIGS. 10A and 10B are pictorial and functional diagrams, respectively, of anexample system 1000 that includes a plurality of computing devices and databases connected via a network. For instance, computing device(s) 1002 may be a cloud-based server system.Databases network 1010. Wireless devices in the field may gather the production data and may receive the trained model(s) may include one or more of adesktop computer 1012, a laptop ortablet PC 1014, amobile phone 1016, a smartwatch or otherwearable device 1018, an in-home assistant device 1020 and/or asmart speaker 1022. These devices are merely exemplary. - As shown in
FIG. 10B , each of thecomputing devices 1002 and 1012-1022 may include one or more processors, memory, data and instructions. The memory stores information accessible by the one or more processors, including instructions and data (e.g., machine learning models) that may be executed or otherwise used by the processor(s). The memory may be of any type capable of storing information accessible by the processor(s), including a computing device-readable medium. - The
devices 1002 and 1012-1020 may include all of the components normally used in connection with a computing device such as the processor and memory described above as well as a user interface subsystem for receiving input from a user and presenting information to the user (e.g., text, imagery and/or other graphical elements). The user interface subsystem may include one or more user inputs (e.g., at least one front (user) facing camera, a mouse, keyboard, touch screen and/or microphone) and one or more display devices (e.g., a monitor having a screen or any other electrical device that is operable to display information (e.g., text, imagery and/or other graphical elements). Other output devices, such as speaker(s) may also provide information to users. Devices such assmart speaker 1022 may not have a display screen, or may only use LEDs or other lights to visually present information to a user. - The wireless devices 1012-1022 may communicate with a back-end computing system (e.g., server 1002) via one or more networks, such as
network 1010. The network and intervening nodes, may include various configurations and protocols including short range communication protocols such as Bluetooth™, Bluetooth LE™, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, Wi-Fi and HTTP, and various combinations of the foregoing. Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces. - In one example,
computing device 1002 may include one or more server computing devices having a plurality of computing devices, e.g., a load balanced server farm or cloud computing system, that exchange information with different nodes of a network for the purpose of receiving, processing and transmitting the data to and from other computing devices. For instance,computing device 1002 may include one or more server computing devices that are capable of communicating with any of the computing devices 1012-1022 via thenetwork 1010, e.g., to receive production data from those devices and to share the model(s) once they are trained. - Although the technology herein has been described with reference to particular embodiments, it is to be understood that these embodiments are merely illustrative of the principles and applications of the present technology. It is therefore to be understood that numerous modifications may be made to the illustrative embodiments and that other arrangements may be devised without departing from the spirit and scope of the present technology as defined by the appended claims.
Claims (24)
1. A network selection method, comprising:
receiving, by one or more processors of a wireless device, at least one physical and link layer measurement for each of a plurality of access points, each access point providing wireless network coverage to a location of the wireless device;
predicting, by the one or more processors, a data rate for each access point prior to forming a wireless network connection with the access point, the predicted data rate estimating a rate at which data is transferred from the wireless device to the access point once the network connection is formed;
selecting, by the one or more processors, an access point with a highest predicted data rate from the plurality of the access points; and
instructing a transceiver of the wireless device to form a connection with the selected access point.
2. The method of claim 1 , further comprising:
performing a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points,
wherein predicting the data rate for each access point is based on the at least one physical and link layer measurement for each access point.
3. The method of claim 1 , wherein the at least one physical and link layer measurement includes one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data.
4. The method of claim 1 , further comprising storing, in memory of the wireless device, pre-processed information indicating a relationship between a given data rate and at least one physical and link layer measurement detected at a time when the given data rate is determined.
5. The method of claim 4 , wherein predicting the data rate for each access point is based on the at least one physical and link layer measurement associated therewith and the pre-processed information.
6. The method of claim 1 , wherein the predicted data rate approximates a data rate selected by a firmware of the wireless device, the data rate being selectable when the wireless network connection is formed with the access point.
7. The method of claim 1 , wherein predicting the data rate for each access point is done using a machine learning model trained on the pre-processed information, the pre-processed information including testing data and production data.
8. The method of claim 1 , wherein the wireless device is connected to a current access point, and the method further comprising:
determining a current data rate at which data is transferred from the wireless device to the current access point;
comparing the highest predicted data rate to the current data rate; and
instructing the transceiver of the wireless device to form a connection with the selected access point when the highest predicted data rate is higher than the current data rate.
9. A method for determining roaming of a wireless device, comprising:
determining, by one or more processors of the wireless device, whether to consider roaming when the wireless device is connected to a current access point, the wireless device being within a network coverage area of a plurality of access points, the plurality of access points including the current access point and at least one candidate access point;
predicting, by the one or more processors, a data rate for each candidate access point prior to forming a network connection with a selected one of the at least one candidate access points, the predicted data rate estimating a rate at which data would be transferred from the wireless device to each respective candidate access point once the network connection is formed;
comparing, by the one or more processors, a data rate of the current access point to the predicted data rate of each candidate access point to select a target access point with a highest data rate; and
determining, by the one or more processors, to roam from the current access point to the target access point when the target access point is not the current access point.
10. The method of claim 9 , further comprising roaming, by a transceiver of the wireless device, from the current access point to the target access point when the target access point is not the current access point.
11. The method of claim 9 , wherein predicting the data rate for each of the at least one candidate access point is based on at least one physical and link layer measurement associated therewith.
12. The method of claim 11 , wherein the at least one physical and link layer measurement includes one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data.
13. The method of claim 11 , further comprising:
performing a roam scan to gather the at least one physical and link layer measurement for each of the at least one candidate access point.
14. The method of claim 9 , wherein determining whether to consider roaming includes comparing the data rate of the current access point to a threshold.
15. The method of claim 9 , further comprising storing, in memory of the wireless device, pre-processed information indicating a relationship between a given data rate and at least one physical and link layer measurement detected at a time when the given data rate is determined.
16. The method of claim 15 , wherein predicting the data rate for each candidate access point is done using a machine learning model trained on the pre-processed information, the pre-processed information including testing data and the production data.
17. The method of claim 14 , wherein predicting the data rate for each of the at least one candidate access point is based on at least one physical and link layer measurement associated therewith and the pre-processed information.
18. The method of claim 9 , wherein determining whether to consider roaming includes evaluating at least one of the following: signal strength of the current access point, a system requirement of the wireless device, an application currently running on the wireless device, and historical connection performance.
19. A wireless device within a network coverage area of a plurality of access points, comprising:
a transceiver; and
one or more processors operatively coupled to the transceiver, the one or more processors being configured to:
receive at least one physical and link layer measurement for each of the plurality of access points;
predict a data rate for each access point prior to forming a network connection with the access point, the predicted data rate estimating a rate at which data is transferred from the transceiver to the access point once the network connection is formed;
select an access point with a highest predicted data rate; and
instruct the transceiver to form a wireless connection with the selected access point.
20. The wireless device of claim 19 , wherein the one or more processors are configured to:
performing a roam scan to gather the at least one physical and link layer measurement for each of the plurality of access points,
wherein the one or more processors predict the data rate for each access point based on the at least one physical and link layer measurement for each access point.
21. The wireless device of claim 20 , wherein the at least one physical and link layer measurement includes one or more of: signal strength, frequency band, mode, signal strength velocity, signal-to-noise ratio or historical data.
22. A wireless device within a network coverage area of a plurality of access points, comprising:
a transceiver; and
one or more processors operatively coupled to the transceiver, the one or more processors being configured to:
determine whether to consider roaming when the transceiver is connected to a current access point of a plurality of access points, the plurality of access points including the current access point and at least one candidate access point;
predict a data rate for each candidate access point prior to forming a network connection with a selected one the candidate access points, the predicted data rate estimating a rate at which data would be transferred from the transceiver to each respective candidate access point once the network connection is formed;
compare a data rate of the current access point to the predicted data rate of each candidate access point to select a target access point with a highest data rate; and
determine to roam from the current access point to the target access point when the target access point is not the current access point.
23. The wireless device of claim 22 , wherein the one or more processors are further configured to instruct the transceiver to roam from the current access point to the target access point when the target access point is not the current access point.
24. The wireless device of claim 22 , wherein the one or more processors are configured to predict the data rate for each of the at least one candidate access point based on at least one physical and link layer measurement associated therewith.
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US17/830,559 US20230397098A1 (en) | 2022-06-02 | 2022-06-02 | Predictive Data Rates for Wireless Roaming and Selection |
PCT/US2023/023538 WO2023235222A1 (en) | 2022-06-02 | 2023-05-25 | Predictive data rates for wireless roaming and selection |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US17/830,559 US20230397098A1 (en) | 2022-06-02 | 2022-06-02 | Predictive Data Rates for Wireless Roaming and Selection |
Publications (1)
Publication Number | Publication Date |
---|---|
US20230397098A1 true US20230397098A1 (en) | 2023-12-07 |
Family
ID=86896087
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US17/830,559 Pending US20230397098A1 (en) | 2022-06-02 | 2022-06-02 | Predictive Data Rates for Wireless Roaming and Selection |
Country Status (2)
Country | Link |
---|---|
US (1) | US20230397098A1 (en) |
WO (1) | WO2023235222A1 (en) |
Family Cites Families (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP4832848B2 (en) * | 2005-10-13 | 2011-12-07 | パナソニック株式会社 | Wireless access point selection method, wireless device, wireless terminal, and computer program |
JP5185969B2 (en) * | 2010-04-02 | 2013-04-17 | 株式会社エヌ・ティ・ティ・ドコモ | Mobile device and method in mobile communication system |
US9686701B2 (en) * | 2015-05-29 | 2017-06-20 | Alcatel-Lucent Usa Inc. | Method and apparatus for target cell throughput prediction prior to handover of a user equipment |
US9497680B1 (en) * | 2015-06-18 | 2016-11-15 | Amazon Technologies, Inc. | Frequency acquisition during roaming |
WO2021242253A1 (en) * | 2020-05-29 | 2021-12-02 | Google Llc | Wi-fi and radio access network selection based on link quality |
-
2022
- 2022-06-02 US US17/830,559 patent/US20230397098A1/en active Pending
-
2023
- 2023-05-25 WO PCT/US2023/023538 patent/WO2023235222A1/en unknown
Also Published As
Publication number | Publication date |
---|---|
WO2023235222A1 (en) | 2023-12-07 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US9756647B2 (en) | Method and apparatus for predicting mobile device wireless link quality of service requirements along a predicted path | |
US9807641B2 (en) | Method and apparatus for optimizing end to end radio communication management for users with multiple devices | |
US9848357B2 (en) | Method and apparatus for connection context aware radio communication management for selecting a wireless link for a predicted future location | |
US9578530B2 (en) | Method and apparatus for determining cell states to adjust antenna configuration parameters | |
US9949280B2 (en) | Method and apparatus for determining optimized wireless link selection for a mobile device along a predicted path | |
ES2769245T3 (en) | Method and apparatus for determining cell states to adjust antenna configuration parameters | |
US20210337420A1 (en) | Functional architecture and interface for non-real-time ran intelligent controller | |
US10034136B2 (en) | Method and apparatus for unified communication system involving context aware radio communication management for multiple user devices | |
US10085198B2 (en) | System and method for switching access network connectivity based on application thresholds and service preferences | |
US9807613B2 (en) | Collaborative method and system to improve carrier network policies with context aware radio communication management | |
US20160165472A1 (en) | Analytics assisted self-organizing-network (SON) for coverage capacity optimization (CCO) | |
US10368284B2 (en) | Quality of experience-based handover management | |
US20160249223A1 (en) | Method and System for Optimizing Shared Spectrum Utilizing Context Aware Radio Communication Management | |
WO2016091171A1 (en) | Method and apparatus for optimizing cell specific antenna configuration parameters | |
KR20170044611A (en) | Ambient network sensing and handoff for device optimization in heterogeneous networks | |
Ghahfarokhi et al. | A personalized QoE-aware handover decision based on distributed reinforcement learning | |
US20230397098A1 (en) | Predictive Data Rates for Wireless Roaming and Selection | |
Deng et al. | Delphi: A software controller for mobile network selection | |
US11272423B2 (en) | Live video analytics over high frequency wireless networks | |
Algar et al. | A quality of experience management framework for mobile users | |
US20230396978A1 (en) | System and Method for Wireless Roaming | |
Dinc et al. | Crowdsourcing-based mobile network tomography for xG wireless systems | |
Horita et al. | Optimal Network Selection Method Using Federated Learning to Achieve Large-Scale Learning While Preserving Privacy | |
Mouhassine et al. | A mean opinion score prediction model for VoIP calls offloading handover from LTE to WiFi |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:NIX, HAYDEN TADASHI;REEL/FRAME:060104/0814Effective date: 20220601 |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: DOCKETED NEW CASE - READY FOR EXAMINATION |