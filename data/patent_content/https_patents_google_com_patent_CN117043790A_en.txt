CN117043790A - On-device generation and personalization of zero prefix suggestions and use thereof - Google Patents
On-device generation and personalization of zero prefix suggestions and use thereof Download PDFInfo
- Publication number
- CN117043790A CN117043790A CN202180088491.8A CN202180088491A CN117043790A CN 117043790 A CN117043790 A CN 117043790A CN 202180088491 A CN202180088491 A CN 202180088491A CN 117043790 A CN117043790 A CN 117043790A
- Authority
- CN
- China
- Prior art keywords
- suggestions
- client device
- given
- zero prefix
- user
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
- 238000010801 machine learning Methods 0.000 claims abstract description 51
- 230000000875 corresponding effect Effects 0.000 claims description 375
- 238000000034 method Methods 0.000 claims description 87
- 230000003993 interaction Effects 0.000 claims description 54
- 230000015654 memory Effects 0.000 claims description 49
- 238000004891 communication Methods 0.000 claims description 35
- 230000004044 response Effects 0.000 claims description 20
- 238000012545 processing Methods 0.000 claims description 16
- 238000001514 detection method Methods 0.000 claims description 5
- 230000008569 process Effects 0.000 description 12
- 230000006855 networking Effects 0.000 description 9
- 235000019580 granularity Nutrition 0.000 description 8
- 230000000007 visual effect Effects 0.000 description 8
- 230000001276 controlling effect Effects 0.000 description 5
- 230000006870 function Effects 0.000 description 5
- 230000001052 transient effect Effects 0.000 description 5
- 238000010586 diagram Methods 0.000 description 4
- 230000036541 health Effects 0.000 description 4
- 230000002452 interceptive effect Effects 0.000 description 4
- 238000013519 translation Methods 0.000 description 4
- 235000002595 Solanum tuberosum Nutrition 0.000 description 3
- 244000061456 Solanum tuberosum Species 0.000 description 3
- 230000009471 action Effects 0.000 description 3
- 230000008878 coupling Effects 0.000 description 3
- 238000010168 coupling process Methods 0.000 description 3
- 238000005859 coupling reaction Methods 0.000 description 3
- 241000282412 Homo Species 0.000 description 2
- 238000004378 air conditioning Methods 0.000 description 2
- 230000008859 change Effects 0.000 description 2
- 238000004590 computer program Methods 0.000 description 2
- 238000005516 engineering process Methods 0.000 description 2
- 238000010438 heat treatment Methods 0.000 description 2
- 230000007246 mechanism Effects 0.000 description 2
- 230000002093 peripheral effect Effects 0.000 description 2
- 230000001755 vocal effect Effects 0.000 description 2
- 230000003213 activating effect Effects 0.000 description 1
- 230000003190 augmentative effect Effects 0.000 description 1
- 230000008901 benefit Effects 0.000 description 1
- 230000001413 cellular effect Effects 0.000 description 1
- 239000003795 chemical substances by application Substances 0.000 description 1
- 230000000694 effects Effects 0.000 description 1
- 239000011521 glass Substances 0.000 description 1
- 239000004973 liquid crystal related substance Substances 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 230000002085 persistent effect Effects 0.000 description 1
- 238000012552 review Methods 0.000 description 1
- 230000007958 sleep Effects 0.000 description 1
- 230000011273 social behavior Effects 0.000 description 1
- 230000026676 system process Effects 0.000 description 1
Classifications
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/22—Procedures used during a speech recognition process, e.g. man-machine dialogue
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F40/00—Handling natural language data
- G06F40/30—Semantic analysis
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/30—Information retrieval; Database structures therefor; File system structures therefor of unstructured textual data
- G06F16/33—Querying
- G06F16/332—Query formulation
- G06F16/3322—Query formulation using system suggestions
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/903—Querying
- G06F16/9032—Query formulation
- G06F16/90332—Natural language query formulation or dialogue systems
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06N—COMPUTING ARRANGEMENTS BASED ON SPECIFIC COMPUTATIONAL MODELS
- G06N20/00—Machine learning
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/22—Procedures used during a speech recognition process, e.g. man-machine dialogue
- G10L2015/223—Execution procedure of a spoken command
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/22—Procedures used during a speech recognition process, e.g. man-machine dialogue
- G10L2015/226—Procedures used during a speech recognition process, e.g. man-machine dialogue using non-speech characteristics
- G10L2015/227—Procedures used during a speech recognition process, e.g. man-machine dialogue using non-speech characteristics of the speaker; Human-factor methodology
Abstract
The implementations described herein relate to generating, locally at a client device, a corresponding subset(s) of zero prefix suggestions for a user of the client device and a suggestion state(s) associated with the client device, and then causing the client device to utilize the corresponding subset(s) of zero prefix suggestions. The superset of proposed state(s) and candidate zero prefix suggestions are processed using the machine learning model(s) to generate a corresponding score for each of the candidate zero prefix suggestions and with respect to the proposed state(s). Furthermore, zero prefix suggestions can be selected based on the corresponding scores for inclusion in the corresponding subset(s) of zero prefix suggestions and zero prefix suggestions are selected for the suggestion state(s). Thus, when a given suggestion state is subsequently detected at the client device, a given corresponding subset of zero prefix suggestions stored in association with the given suggestion state can be obtained and provided for presentation to the user.
Description
Background
Humans may participate in human-machine conversations through interactive software applications referred to herein as "automated assistants" (also referred to as "chat robots," "interactive personal assistants," "intelligent personal assistants," "personal voice assistants," "conversation agents," etc.). For example, humans (which may be referred to as "users" when they interact with an automated assistant) may provide spoken natural language input (i.e., spoken utterances) to the automated assistant, which in some cases may be converted to text, then processed, and/or by providing text (e.g., typing) natural language input or touch input. Automated assistants typically respond to these user inputs by providing responsive user interface outputs (e.g., audible and/or visual user interface outputs), controlling intelligent networking device(s), and/or performing other action(s).
In some cases, the automated assistant may proactively provide zero prefix suggestions to the user that are predicted to be helpful to the given user. For example, if a user accesses an automatic assistant application associated with the automatic assistant and accessible at the client device, the automatic assistant can cause various zero prefix suggestions to be provided for presentation to the user. These zero prefix suggestions originate mainly from recent user interactions between the user and the automated assistant, trending user interactions between other users and the respective automated assistants, or suggestions previously planned for the user population. However, because of privacy concerns of server-based computing and that certain contexts are only available for on-device computing, these zero prefix suggestions are typically not tailored to a given user of a client device for different contexts specific to the given user. Furthermore, these zero prefix suggestions are typically provided for immediate presentation to the user upon launching an automatic assistant application and upon activating other components of the client device for providing the zero prefix suggestions, thereby complicating the problem of customizing these zero prefix suggestions for a given user.
Disclosure of Invention
Embodiments disclosed herein relate to generating, locally at a client device, a corresponding subset of Zero Prefix (ZP) suggestions for a given user of the client device and a corresponding suggestion state associated with the client device, and then causing the client device to utilize the corresponding subset of ZP suggestions to provide one or more ZP suggestions for presentation to the user. A given corresponding subset of ZP suggestions can be generated for a given user and a given suggestion state of a plurality of different corresponding suggestion states by: identifying a given advice state; identifying a superset of candidate ZP suggestions; processing the given suggestion state and the superset of candidate ZP suggestions using a ranking Machine Learning (ML) model to generate a corresponding score for each of the candidate ZP suggestions and with respect to the given suggestion state; and selecting one or more of the candidate ZP suggestions from the superset of candidate ZP suggestions based on the correspondence score for inclusion in a given corresponding subset of ZP suggestions for the given user and the given suggestion state. The given suggestion state and the given corresponding subset of ZP suggestions for the given suggestion state can be stored in an on-device memory (or storage) of the client device. Thus, when the occurrence of a given suggestion state is subsequently detected at the client device, one or more ZP suggestions can be obtained from a given corresponding subset of ZP suggestions stored in association with the given suggestion state, and can be provided for presentation to the user via the client device or an additional computing device in communication with the client device. Upon receiving a user selection of a given ZP suggestion, the client device or an automated assistant executing at least in part at the client device can cause a corresponding action associated with the given ZP suggestion to be performed.
In some embodiments, each of the plurality of different corresponding suggestion states can represent a different context scene having a different granularity, and thus a corresponding subset of ZP suggestions for each of the plurality of different corresponding suggestion states can include one or more ZP suggestions associated with each of the different context scenes. In other words, a given corresponding subset of ZP suggestions can include ZP suggestions that are customized for the user and that are relevant to the context scene represented by the given suggestion state. Further, each of the plurality of different corresponding suggested states can be represented by a different combination of one or more device signals generated by the client device or an additional computing device in communication with the client device. The one or more device signals can include, for example, a location of the client device, a semantic indication of the location of the client device, a time or time range associated with the location of the client device, a date associated with the location of the client device, a calendar entry associated with a calendar software application of the client device, an electronic communication associated with one or more electronic communication software applications of the client device, a given software application running in the foreground of the client device, a given software application running in the background of the client device, historical usage of one or more software applications accessible at the client device, an indication of one or more additional client devices in communication with the client device, a clipboard including content replicated at the client device, a device state change of an additional computing device in communication with the client device, and/or other device signals.
For example, assume that the time indication time associated with the location of the client device is 6:00 pm. In this example, the given suggested state associated with the client device may be a "night" suggested state. Further assume that the location of the client device indicates that the user is at a restaurant. In this example, the given suggested state associated with the client device may be a more specific "restaurant at night" suggested state. Further assume that the semantic identifier associated with a restaurant indicates that this is a thailand restaurant. In this example, the given suggested state associated with the client device may be an even more specific "thailand restaurant at night" suggested state. Further assume that the user's calendar entry indicates that the user celebrates the user's child's birthday in the thailand restaurant. In this example, the given advice state associated with the client device may be an even more specific "thailand restaurant for which the child was birthday at night" advice state. Thus, based on different combinations of device signals, advice states can be defined at different granularities, and a corresponding subset of ZP advice can be generated for each of these advice states. The client device can identify (or anticipate) these different signal combinations to identify each of a plurality of different proposed states.
In some embodiments, a superset of candidate ZP suggestions can be identified based on a plurality of user interactions. In some versions of these embodiments, the superset of candidate ZP suggestions can be based on user interactions of a user of the client device when these different signal combinations are detected at the client device. Continuing the above example of a user accessing a thailand restaurant in the evening for the birthday of a child, it is assumed that when the user typically accesses a restaurant (a particular thailand restaurant or other restaurant), the user typically interacts with a health and fitness application accessible at the client device to track calories consumed during dinner, and with a browser application accessible at the client device to view reviews of various dishes served at the restaurant. In this example, each of these user interactions can be included in a superset of candidate ZP suggestions. In additional or alternative versions of these embodiments, when these different signal combinations are detected at the client devices, the superset of candidate ZP suggestions can be based on user interactions by other users via the respective client devices. Continuing the above example of a user accessing a thailand restaurant in the evening for the child's birthday, assume that when other users typically access the restaurant, the other users interact with a calculator application accessible at the respective client device to determine the appropriate amount to pay the attendant, and the other users interact with a translation application accessible at the respective client device to obtain a translation of one or more menu names. In this example, each of these user interactions can additionally or alternatively be included in the superset of candidate ZP suggestions. Notably, the superset of candidate ZP suggestions can include a plurality of user interactions encountered in various other context scenarios, which may not be specific to a given suggestion state. For example, the superset of candidate ZP suggestions can further include candidate ZP suggestions determined based on user interactions detected when a client device (or a corresponding client device) is connected to an additional computing device (e.g., an in-vehicle computing device, a bluetooth headset, etc.), when a user wakes up, when the user goes to work, when the user goes home off work, before the user sleeps, and/or any other contextual scene. Thus, the superset of candidate ZP suggestions can include candidate ZP suggestions determined based on various different contextual scenarios.
In some embodiments, the ordered ML model(s) can include a personal ordered ML model personalized to a given user of the client device, while in other embodiments, the ordered ML model(s) can include a global ML model not personalized to a given user of the client device. In these embodiments, a corresponding score is generated for each of the candidate ZP suggestions included in the superset of candidate ZP suggestions and for each of the plurality of corresponding different suggestion states. For example, assume 20 different suggested states associated with a client device are identified based on different combinations of the above device signals. Further assume that the superset of candidate ZP suggestions includes 100 different candidate ZP suggestions. In this example, the 20 different suggestion states and the 100 different candidate ZP suggestions can be processed using a ranked ML model(s) to generate a corresponding score for each of the 100 different candidate ZP suggestions and with respect to the 20 different suggestion states associated with the client device. In other words, the corresponding score can include 2000 corresponding scores, or a corresponding score for each different candidate ZP suggestion and for each of 20 different suggestion states. In some embodiments, a threshold number of candidate ZP suggestions can be selected based on the corresponding score for inclusion in each of the corresponding subsets of ZP suggestions. Continuing with the example above, assume that the threshold number of candidate ZP suggestions selected for inclusion in each of the corresponding subsets of ZP suggestions is 10. In this example, 10 candidate ZP suggestions can be selected based on a corresponding score of each of 20 different suggestion states. Each of the corresponding subsets of ZP suggestions can be stored in on-device memory (or storage) of the client device in association with a corresponding suggestion state for which the corresponding subset of ZP suggestions is generated.
In some embodiments, one or more of the ZP suggestions selected for inclusion in the corresponding subset may need to be customized for a given user of the client device. In these embodiments, one or more of the ZP suggestions that include the corresponding placeholder can be identified, and user profile data stored in on-device memory (or storage) of the client device can be used to determine the corresponding personalized identifier to be used to populate the corresponding placeholder. Continuing the above example of a user accessing a thailand restaurant in the evening for the child's birthday, assume that the user typically interacts with a particular health and fitness application accessible at the client device to track calories consumed during dinner. However, assume that the user has multiple health and fitness applications accessible at the client device. In this example, selecting ZP suggestions for inclusion in the corresponding subset of ZP suggestions may include "tracking calories using an X application," where X is the corresponding placeholder of the particular application used by the user in tracking calories. In addition, the user profile data can be used to identify particular health and fitness applications accessible at the client device that the user uses in tracking calories. While the above examples are provided with respect to the corresponding personalized identifier being a preferred software application, it should be understood that this is for purposes of example and is not meant to be limiting. For example, the corresponding personalized identifier can include one or more particular contact entries of a contact application accessible at the client device, one or more intelligent networking device identifiers of the intelligent networking device application(s), and/or any other personalized identifier that can be determined based on the user profile data.
In some embodiments, the corresponding subset of ZP suggestions may be generated only when one or more device conditions of the device are met. The one or more device conditions of the client device of the given user can include, for example, the client device being charged, the client device having at least a threshold state of charge, the temperature of the client device being less than a threshold, the given user not holding the client device, a newly-proposed state associated with the client device having been detected, a time of day of the location of the client device, a day of the week of the location of the client device, and/or any other device condition described herein. In other words, a corresponding subset of ZP suggestions may be generated only during off-peak times when a given user is using a client device to avoid interfering with the performance of the client device. Furthermore, in some embodiments, when one or more device conditions of the device are subsequently met and after a threshold duration has elapsed, the corresponding subset of ZP suggestions may be subsequently updated. The corresponding subset of ZP suggestions may then be updated in the same or similar manner as described above, but with respect to the updated suggestion states and/or the updated superset of candidate ZP suggestions.
In some embodiments, the user selection (or lack thereof) of a given ZP suggestion can be used to update a corresponding subset of ZP suggestions for a given suggestion state. For example, in response to detecting a future occurrence of a given suggestion state, the selection (or lack of) a given ZP suggestion can be used to influence which of the corresponding subsets of ZP suggestions should be provided for presentation to a given user. In other words, the selection (or lack of) of a given ZP suggestion can be used to modify the corresponding score associated with the given ZP suggestion and, optionally, the corresponding score associated with other ZP suggestions provided for presentation to the given user. For example, assuming that a given user selects a given ZP suggestion, the system can modify the corresponding score associated with the given ZP suggestion such that the given ZP suggestion is more likely to be provided for presentation to the given user in response to detecting a future occurrence of the given suggestion state. Further, for example, assuming that a given user does not select ZP suggestions, the system can modify the corresponding scores associated with these ZP suggestions so that it is unlikely that these ZP suggestions will be provided for presentation to the given user in response to detecting a future occurrence of a given suggestion state.
One or more technical advantages may be realized by using the techniques described herein. As one non-limiting example, the techniques described herein can be used to generate corresponding subsets of ZP suggestions locally at a client device for corresponding suggestion states, thereby ensuring privacy of user data at the client device because the user data is not transmitted to a remote system (e.g., server (s)) and improving the ZP suggestion interface by providing ZP suggestions specifically tailored to a given user of the client device. Furthermore, the techniques described herein can be used to generate corresponding subsets of ZP suggestions during off-peak times when a given user uses a client device. Thus, a given corresponding subset of ZP suggestions can be quickly and efficiently obtained while other components of the client device are activated, thereby reducing the latency of providing ZP suggestions for presentation to a given user. For example, other components typically used to generate and provide ZP suggestions may require time to activate and process data used in generating ZP suggestions and subsequently providing ZP suggestions for presentation to a given user. However, by previously indexing the corresponding subset of ZP suggestions in the manner described herein, the need to activate these other components for providing ZP suggestions is eliminated.
The foregoing description is provided as an overview of only some of the embodiments disclosed herein. These and other embodiments are described in more detail herein.
It should be understood that all combinations of the foregoing concepts and additional concepts described in more detail herein are considered a part of the subject matter disclosed herein. For example, all combinations of claimed subject matter appearing at the end of this disclosure are considered part of the subject matter disclosed herein.
Drawings
Fig. 1 depicts a block diagram of an example environment in which embodiments disclosed herein may be implemented, demonstrating aspects of the present disclosure.
Fig. 2 depicts an example process flow showing aspects of the present disclosure, according to various embodiments.
Fig. 3 depicts a flowchart of an illustrative example method of generating a corresponding subset(s) of zero prefix suggestions locally at a client device for a user of the client device and suggestion state(s) associated with the client device, and then causing the client device to utilize the corresponding subset(s) of zero prefix suggestions, in accordance with various embodiments.
Fig. 4 depicts a flowchart illustrating an example method of utilizing corresponding subset(s) of zero prefix suggestions previously generated locally at a client device based on detecting occurrence(s) of suggestion state, according to various embodiments.
Fig. 5A, 5B, 5C, and 5D depict various non-limiting examples of utilizing corresponding subset(s) of zero prefix suggestions that were previously generated locally at a client device based on detecting occurrence(s) of suggestion state(s), according to various embodiments.
Fig. 6 depicts an example architecture of a computing device according to various embodiments.
Detailed Description
Turning now to fig. 1, a block diagram of an example environment is depicted that illustrates aspects of the present disclosure and in which embodiments disclosed herein can be implemented. Example environments include a client device 110, one or more cloud-based automated assistant components 115, one or more first party servers 191, and one or more third party servers 192.
The client device 110 is capable of executing an automated assistant client 113. The automated assistant client 113 can be an application separate from the operating system of the client device 110 (e.g., installed "on top of" the operating system) -or can alternatively be implemented directly by the operating system of the client device 110. As described further below, the automated assistant client 113 is capable of optionally interacting with one or more of the cloud-based automated assistant components 115 in response to various requests received by the user interface component(s) 112 of the client device 110. Further, as also described below, other engine(s) of the client device 110 can optionally interact with one or more of the cloud-based automated assistant components 115.
The one or more cloud-based automated assistant components 115 can be implemented on one or more computing systems (e.g., collectively referred to as a "cloud"A server of a "or" remote "computing system) communicatively coupled to client device 110 via one or more local area networks (" LANs, "including Wi-Fi LANs, bluetooth networks, near field communication networks, mesh networks, etc.), wide area networks (" WANs, "including the internet, etc.), and/or other networks. The communicative coupling of the cloud-based automatic assistant component 115 with the client device 110 is generally represented by 199 of fig. 1 1 An indication. Moreover, in some implementations, client device 110 may be communicatively coupled with other client devices (not depicted) described herein via one or more networks (e.g., LAN and/or WAN).
One or more of the cloud-based automated assistant components 115 can also be communicatively coupled with one or more of the first party servers 191 and/or one or more of the third party servers 192 via one or more networks (e.g., LAN, WAN, and/or other networks). The communicative coupling of the cloud-based automated assistant component 115 with one or more of the first party servers 191 is generally represented by 199 of fig. 1 2 An indication. Further, the communicative coupling of the cloud-based automated assistant component 115 with one or more of the third party servers 192 is generally performed by 199 of fig. 1 3 An indication. In some implementations, although not explicitly depicted in fig. 1, the client device 110 can additionally or alternatively be communicatively coupled with one or more of the first party servers 191 and/or one or more of the third party servers 192 via one or more networks (e.g., LAN, WAN, and/or other networks).
Through interaction of the automated assistant client 113 with one or more of the cloud-based automated assistant components 115, the automated assistant client may form what appears to be a logical example of the automated assistant 120 from the user's perspective, through which the user of the client device 110 may engage in a human-machine conversation. Examples of the automated assistant 120 enclosed by a dashed line include, for example, an automated assistant client 113 of the client device 110 and one or more cloud-based automated assistant components 115. Thus, it should be appreciated that each user interacting with an automated assistant client 113 executing on a client device 110 may actually interact with their own logical instance of the automated assistant 120 (or a logical instance of the automated assistant 120 shared between a household or other group of users and/or shared among multiple automated assistant clients 113). Although only client devices 110 are illustrated in fig. 1, it should be appreciated that one or more of the cloud-based automated assistant components 115 can additionally serve many additional groups of client devices. Further, while a cloud-based automatic assistant component 115 is illustrated in fig. 1, it is to be understood that in various embodiments, the automatic assistant 120 can be implemented only at the client device 110.
As used herein, a first party device or system (e.g., one or more first party servers 191) references a system controlled by the same party that controls the automated assistant 120 referenced herein. For example, one or more first party servers 191 can reference a system hosting: search engine services, communication services (e.g., email, SMS messaging, etc.), navigation services, music services, document editing or sharing services, and/or other services controlled by the same party that controls the automated assistant 120 referenced herein. Instead, a third party device or system (e.g., one or more third party servers 192) references a system controlled by a party other than the party controlling the automated assistant 120 referenced herein. For example, one or more third party servers 192 can reference a system hosting the same service, but these services are controlled by a party other than the party controlling the automated assistant 120 referenced herein.
Client device 110 may include, for example, one or more of the following: a desktop computing device, a laptop computing device, a tablet computing device, a mobile phone computing device, a computing device of a user's vehicle (e.g., an in-vehicle communication system, an in-vehicle entertainment system, an in-vehicle navigation system), a stand-alone interactive speaker (e.g., with or without a display), a smart networking device such as a smart appliance, a smart television, or a smart washer/dryer, etc., a wearable device of a user including a computing device (e.g., a watch of a user with a computing device, glasses of a user with a computing device, a virtual or augmented reality computing device), and/or any IoT device capable of receiving user input for the automated assistant 120. Additional and/or alternative client devices may be provided.
In various embodiments, the client device 110 may include one or more presence sensors 111 configured to provide a signal indicative of the detected presence, in particular human presence, if approved by the corresponding user(s). In some of these implementations, the automated assistant 120 can identify the client device 110 (or another computing device associated with the user of the client device 110) to satisfy the spoken utterance (or other input for the automated assistant 120) based at least in part on the presence of the user at the client device 110 (or at another computing device associated with the user of the client device 110). The spoken utterance (or other input for the automated assistant 120) can be satisfied by presenting responsive content at the client device 110 and/or other computing device(s) associated with the user of the client device 110 (e.g., audibly and/or visually), by causing the client device 110 and/or other computing device(s) associated with the user of the client device 110 to be controlled, and/or by causing the client device 110 and/or other computing device(s) associated with the user of the client device 110 to perform any other action to satisfy the spoken utterance (or other input for the automated assistant 120). As described herein, the automated assistant 120 can utilize data determined when determining the client device 110 (or other computing device (s)) based on the location of the proximity or closest proximity of the user based on the presence sensor 111 and provide corresponding commands only to the client device 110 (or these other computing devices). In some additional or alternative implementations, the automated assistant 120 can utilize data determined based on the presence sensor 111 determining whether any user(s) (any user or particular user) are currently in proximity to the client device 110 (or other computing device (s)), and can optionally refrain from providing data to and/or from the client device 110 (or other computing device (s)) based on the user(s) in proximity to the client device 110 (or other computing device (s)).
The presence sensor 111 may have various forms. For example, the client device 110 may be equipped with one or more visual components (e.g., digital camera(s) and/or other visual component (s)) configured to capture and provide signal(s) indicative of movement detected in its field of view. Additionally or alternatively, the client device 110 may be equipped with other types of light-based presence sensors 111, such as passive infrared ("PIR") sensors that measure infrared ("IR") light radiated from objects within its field of view. Additionally or alternatively, the client device 110 may be equipped with a presence sensor 111, such as one or more microphones, that detects acoustic (or pressure) waves.
Additionally or alternatively, in some embodiments, the presence sensor 111 may be configured to detect other phenomena associated with human presence or device presence. For example, in some embodiments, client device 110 may be equipped with a presence sensor 111 that detects various types of wireless signals (e.g., waves such as radio, ultrasonic, electromagnetic waves, etc.) transmitted by other computing devices (e.g., mobile devices, wearable computing devices, etc.) and/or other computing devices carried/operated by, for example, a user. For example, the client device 110 may be configured to emit human-imperceptible waves, such as ultrasonic or infrared waves, that may be detected by other computing device(s) (e.g., via an ultrasonic/infrared receiver such as a microphone with ultrasonic capabilities).
Additionally or alternatively, the client device 110 may emit other types of human-imperceptible waves, such as radio waves (e.g., wi-Fi, bluetooth, cellular, etc.), which may be detected by other computing device(s) (e.g., mobile devices, wearable computing devices, etc.) carried/operated by the user and used to determine the specific location of the user. In some implementations, GPS and/or Wi-Fi triangulation may be used to detect the location of a person, for example, based on GPS and/or Wi-Fi signals to/from client device 110. In other implementations, the client device 110 may use other wireless signal characteristics, such as time of flight, signal strength, etc., alone or in combination, to determine the location of a particular person based on signals transmitted by other computing device(s) carried/operated by the user.
Additionally or alternatively, in some embodiments, client device 110 may perform speech recognition to identify users from their speech. For example, some instances of the automated assistant 120 may be configured to match speech to a user's profile, e.g., for the purpose of providing/restricting access to various resources. In some embodiments, the movement of the speaker may then be determined, for example, by the presence sensor 111 (and optionally a GPS sensor and/or accelerometer) of the client device 110. In some embodiments, based on such detected movement, the location of the user may be predicted, and may be assumed to be the location of the user when any content is rendered at the client device 110 or other computing device(s) based at least in part on the proximity of the client device 110 and/or other computing device(s) to the user's location. In some embodiments, the user may simply be assumed to be in the last position he or she interacted with the automated assistant 120, particularly if too much time has not elapsed since the last interaction.
Client device 110 further includes a user interface component 112 that can include one or more user interface input devices (e.g., microphone(s), touch screen, keyboard, and/or other input devices), and/or one or more user interface output devices (e.g., display, speaker, projector, and/or other output devices). Further, client device 110 and/or any other computing device(s) may include one or more memories for storing data and software applications, one or more processors for accessing data and executing applications, and other components that facilitate communication over a network. Operations performed by client computing device 110, other computing device(s), and/or by automated assistant 120 may be distributed across multiple computer systems. The automated assistant 120 may be implemented, for example, as a computer program running on one or more computers in one or more locations coupled to each other through a network (e.g., network(s) 199 of fig. 1).
As described above, in various embodiments, the client computing device 110 may operate an automated assistant client 113. In various embodiments, the automated assistant client 113 may include a speech capture/Automated Speech Recognition (ASR)/Natural Language Understanding (NLU)/text-to-speech (TTS) module 114. In other implementations, one or more aspects of the respective speech capture/ASR/NLU/TTS module 114 may be implemented separately from the automated assistant client 113 (e.g., through one or more of the cloud-based automated assistant components 115).
The speech capture/ASR/NLU/TTS module 114 may be configured to perform one or more functions including, for example: capturing the user's voice (voice capture, e.g., via respective microphone(s) (which may include one or more of the presence sensors 111 in some cases)); converting the captured speech into recognized text and/or other representations or embeddings using ASR model(s) stored in Machine Learning (ML) model database(s) 120A; parsing and/or annotating the identified text using NLU model(s) stored in ML model database(s) 120A; and/or converting text to speech using TTS model(s) stored in ML model database(s) 120A. The instance(s) of the ML models may be stored locally at the client device 110 and/or accessible by the client device 110 over the network(s) 199 of fig. 1. In some implementations, because the client device 110 may be relatively limited in terms of computing resources (e.g., processor cycles, memory, battery, etc.), the respective speech capture/ASR/NLU/TTS module 114 local to the client device 110 may be configured to convert a limited number of different spoken phrases into text (or other forms such as low-dimensional embedding) using a speech recognition model(s). Some speech input may be sent to one or more of the cloud-based automatic assistant components 115, which may include a cloud-based ASR module 116, a cloud-based NLU module 117, and/or a cloud-based STT module 118. The cloud-based automatic assistant component 115 may utilize nearly unlimited resources of the cloud to perform the same or similar functions, but it should be noted that the speech capture/ASR/NLU/TTS module 114 is able to perform this function locally at the client device 110 without interacting with the cloud-based automatic assistant component 115.
Although fig. 1 is described with respect to a single client device having a single user, it should be understood that this is for purposes of example and is not meant to be limiting. For example, one or more additional client devices of the user may also implement the techniques described herein. These additional client devices may communicate with client device 110 (e.g., over network(s) 199). As another example, a given client device can be used by multiple users (e.g., a group of users, a household) in a shared setting.
In some implementations, the client device 110 can further include various engines for generating a plurality of different corresponding subsets of Zero Prefix (ZP) suggestions for a plurality of different corresponding suggestion states associated with the client device 110, and then utilizing the corresponding subsets of ZP suggestions to provide the ZP suggestions for presentation to a user. For example, as depicted in fig. 1, the client device 110 can further include a device condition engine(s) 130, a suggestion state engine 140, a candidate ZP suggestion engine 150, a ZP suggestion engine 160, and a ZP customization engine 170. Client device 110 can further include on-device memory (or may be a transient or non-transient storage device) that includes user profile database(s) 110A, ML model database(s) 120A, and ZP suggestion database 160A. In some implementations, these various engines can execute only on client device 110. In additional or alternative embodiments, one or more of these various engines can be executed remotely from the client device 110 (e.g., as part of the cloud-based automated assistant component 115).
As described herein, client device 110 can utilize these various engines to generate corresponding subsets of ZP suggestions locally at client device 110 for corresponding suggestion states associated with client device 110. Note that some of these ZP suggestions can be customized for the user of client device 110. Further, client device 110 can utilize these various engines to periodically update, locally at client device 110, a corresponding subset of ZP suggestions for a corresponding suggestion state associated with client device 110. The corresponding subset of ZP suggestions can be stored in association with a corresponding suggestion state in an on-device memory (or storage) of the client device 110. Thus, when the occurrence of a given corresponding advice state is detected at the client device 110, a given corresponding subset of ZP advice, which is specific to the given corresponding advice state and includes one or more ZP advice tailored to the user of the client device 110, can be quickly and efficiently provided for presentation to the user of the client device 110.
For example, turning now to fig. 2, an example process flow is depicted that illustrates aspects of the present disclosure. The process flow depicted in fig. 2 can be performed by the automated assistant 120 utilizing various engines of the client device 110 depicted in the example environment of fig. 1. In some embodiments, when one or more device conditions are met, the automated assistant 120 may generate a corresponding subset of ZP suggestions only for the corresponding suggestion states. In these embodiments, the device condition engine(s) 130 can continuously monitor one or more device conditions 230A to determine whether one or more of the device conditions are met. The one or more device conditions 230A of the client device 110 of the user can include, for example, the client device 110 being charged, the client device 110 having at least a threshold state of charge, the temperature of the client device 110 being less than a threshold value, the user not holding the client device 110, a new proposal state associated with the client device 110 having been detected, a time of day at the location of the client device 110, and/or a day of the week at the location of the client device 110. In other words, the device condition engine(s) 130 can identify off-peak times of use of the client device 110 by the user and optionally limit the generation of corresponding subsets of ZP suggestions to those off-peak times of use of the client device 110 by the user to avoid interference with use of the client device 110 by the user. In these embodiments, assuming that the device condition engine(s) 230A determine that one or more device conditions 230A are satisfied, the device condition engine(s) 230 can send a signal to the suggestion state engine 140 indicating that one or more device conditions 230A are satisfied, as indicated by 130A.
The suggestion state engine 140 is capable of identifying a plurality of different corresponding suggestion states 140A associated with the client device 110. In some embodiments, the suggestion state engine 140 is capable of processing one or more device signals 210A generated by the client device 110 to identify a plurality of different corresponding suggestion states 140A and optionally assign a corresponding semantic identifier to each of the plurality of different corresponding suggestion states 140A. When one or more device signals 210A are detected (e.g., when one or more device conditions 230A are not met), the one or more device signals 210A can be identified during peak hours of use of the client device 110. In some implementations, the suggestion state engine 140 can process one or more device signals 210A to identify a plurality of different corresponding suggestion states during these peak times of use of the client device 110. However, in additional or alternative embodiments, the suggestion state engine 140 can store the one or more device signals 210A upon detection thereof and subsequently process the one or more device signals 210A to identify a plurality of different corresponding suggestion states during off-peak times of use of the client device 110 (e.g., when the one or more device conditions 230A are satisfied). These changes between rush hour and off-peak time are indicated by the dashed arrows between one or more device signals 210A and the satisfied one or more device signals indicated by 130A.
The one or more device signals 210A of the user's client device 110 can include, for example, a location of the client device 110, a semantic indication of the location of the client device 110, a time or time range associated with the location of the client device 110, a date associated with the location of the client device 110, a calendar entry associated with a calendar software application of the client device 110, an electronic communication associated with one or more electronic communication software applications of the client device 110, a given software application running in a foreground of the client device 110, a given software application running in a background of the client device 110, a historical use of one or more software applications accessible at the client device 110, an indication of one or more additional client devices communicating with the client device 110, or a clipboard comprising content copied at the client device 110. Each of the plurality of different corresponding suggestion states 140A can represent a different context scene having a different granularity, and thus a corresponding subset of ZP suggestions for each of the plurality of different corresponding suggestion states 140A can include one or more ZP suggestions associated with each of the different context scenes. Furthermore, the suggestion state engine 140 can store each of the plurality of different corresponding suggestion states 140A in the ZP suggestion database 160A, for example as a table of ZP corresponding suggestion states.
For example, assume that one or more device signals 210A indicate that a connection (e.g., a bluetooth connection) between client device 110 and an in-vehicle computing device has been established at 9:00 am on friday. In this example, the advice state engine 140 can identify that the one or more device signals 210A correspond to a "commute" advice state or more specifically a "work on duty" advice state or a "work on weekday morning). As another example, assume that one or more device signals 210A indicate that a connection (e.g., a bluetooth connection) between client device 110 and a wireless headset has been established at 9:00 am on Saturday, that a media application is running in the foreground of client device 110, and that client device 110 is located at a physical address associated with a gym. In this example, suggestion state engine 140 can identify that one or more device signals 210A correspond to a "media play" suggestion state or, more specifically, a "media play for exercise" suggestion state. As yet another example, assume that a calendar entry of a calendar application accessible at client device 110 indicates that the user has an upcoming flight to a particular location, and that a note entry of a note application accessible at client device 110 has information associated with a particular application. In this example, the advice state engine 140 can identify that one or more device signals 210A correspond to a "travel" advice state or, more specifically, a "travel to particular location" advice state. While the above examples are provided with respect to identifying specific suggested states, it should be understood that this is by way of example and not meant to be limiting. Rather, it should be appreciated that any combination of one or more device signals 210A can be used to identify various other proposed states.
The candidate ZP suggestion engine 150 can identify a superset of candidate ZP suggestions 150A (or superset of original candidate ZP suggestions) based on multiple user interactions 210B (e.g., private user interactions) of the user of the client device 110 with the client device 110 and/or based on multiple user interactions 210B (e.g., public user interactions) of other users of the respective client devices with the respective client devices. ZP suggestions included in the superset of candidate ZP suggestions can be considered original candidate ZP suggestions because these ZP suggestions are determined based on the plurality of user interactions 210B, but are not customized for the user of the client device 110. In some implementations, the plurality of user interactions may be limited to situations when one or more device signals 210A are detected at the client device 110 and/or the respective client device, respectively. The plurality of user interactions 210B can include, for example, user interactions with a particular software application accessible at the client device 110 and/or a corresponding client device, such as launching the particular software application, accessing content accessible at the particular software application, and so forth; user interaction with particular devices, such as controlling additional devices, including intelligent networking devices (e.g., intelligent lights, intelligent appliances, intelligent locks, intelligent thermostats, intelligent garage doors, intelligent televisions, etc.), on-board devices or components (e.g., power windows, heating and air conditioning, windshield defrosters, vehicle locks, etc.), and/or other devices in communication with client device 110 and/or the respective client devices; user interactions that copy and/or paste specific content at client device 110 and/or the respective client device; and/or any other user interaction with client device 110 and/or the respective client device. For example, the user interaction can include playing a particular song or podcast with a media application accessible at the client device 110; obtaining directions and/or traffic conditions using a navigation application accessible at the client device 110; controlling heating and air conditioning of a vehicle of a user of the client device; calling or messaging a contact entry of a contact application accessible at client device 110 to communicate with an additional user; utilizing a smart light application accessible at the client device 110 to control various smart lights associated with the smart light application; the ride is scheduled using a ride share application accessible at the client device 110, and/or any other user interaction. In other words, user interactions detected at client device 110 and/or the respective client devices during the peak hours of use can then be used to generate a corresponding subset of ZP suggestions during the off-peak hours of use of client device 110. Although these user interactions may be performed in various contexts, each of these user interactions can be included in a superset of candidate ZP suggestions 150A. The superset of ZP suggestions can be stored in ZP suggestion database 160A as, for example, a table of original ZP suggestions.
The ZP suggestion engine 160 can process each of the plurality of different corresponding suggestion states 140A and one or more of the ZP suggestions included in the superset of candidate ZP suggestions 150A using one or more ordered Machine Learning (ML) models (or one or more ordered ML rules stored in the ML model database (s)) stored in the ML model database 120A to generate a corresponding score for each candidate ZP suggestion included in the superset of candidate ZP suggestions 150A and with respect to each of the plurality of different corresponding suggestion states 140A. The correspondence scores for each candidate ZP suggestion included in the superset of candidate ZP suggestions 150A and for each of the plurality of different corresponding suggestion states 140A can each indicate a likelihood that the user of client device 110 will perform user interactions associated with the candidate ZP suggestion in view of different contexts of the different suggestion states. For example, assume that the plurality of different corresponding suggestion states 140A includes 10 different suggestion states and that the superset of candidate ZP suggestions 150A includes 100 different candidate ZP suggestions corresponding to the user interactions described above. In this example, ZP suggestion engine 160 can generate 100 corresponding scores for each of the different candidate ZP suggestions for a first suggestion state of the 10 different suggestion states; generating 100 additional corresponding scores for each of the different candidate ZP suggestions for a second one of the 10 different suggestion states; and so on for the rest of the proposed states. Thus, in this example, ZP suggestion engine 160 is able to generate a total of 1,000 scores (e.g., 100 scores for each of 10 different suggestion states). Note that the 10 different suggested states can include suggested states defined at different granularities. For example, the 10 different advice states can include, for example, the "commute" advice state described above, the more specific "work on duty" advice state described above, and even more specific "work on duty in the morning. Thus, the ZP suggestions provided for presentation to the user when the occurrence of one of these suggestion states is detected can reflect ZP suggestions that are most relevant to a more specific and/or more general context scenario.
In various embodiments, based on the correspondence score and for each of the plurality of different corresponding suggestion states 140A, the ZP suggestion engine 160 can select one or more ZP suggestions to include in a corresponding subset of the ZP suggestions 160A for each of the plurality of different corresponding suggestion states 140A. In some versions of these embodiments, ZP suggestion engine 160 is capable of selecting a threshold number of ZP suggestions from the superset of candidate ZP suggestions 150A for inclusion in each of the corresponding subsets of ZP suggestions 160A, and optionally discarding any ZP suggestions not selected for inclusion in any corresponding subset of ZP suggestions 160A. Continuing the example above, further assume that ZP suggestion engine 160 selects 10 ZP suggestions for inclusion in each of the corresponding subsets of ZP suggestions 160A. In this example, the ZP suggestion engine 160 can select 10 ZP suggestions for each of 10 different suggestion states, thereby generating 10 corresponding subsets of ZP suggestions, each corresponding subset including 10 ZP suggestions and each corresponding subset being specific to a given one of the 10 different suggestion states. Note that ZP suggestions are not mutually exclusive, as a given ZP suggestion may be included in more than one of the corresponding subsets of ZP suggestions 160A.
In some embodiments, the one or more ranked ML models for processing each of the plurality of different corresponding suggestion states 140A and one or more of the ZP suggestions included in the superset of candidate ZP suggestions 150A to generate the corresponding score can include a personal ranked ML model personalized for the user of the client device 110. In some versions of these embodiments, a personal ordering ML model can be used to process one or more of the ZP suggestions included in the superset of candidate ZP suggestions 150A, which are based on user interactions specific to the user of client device 110. In additional or alternative embodiments, the one or more ranked ML models for processing each of the plurality of different corresponding suggestion states 140A and one or more of the ZP suggestions included in the superset of candidate ZP suggestions 150A to generate the corresponding score can include a globally ranked ML model that is not personalized for the user of the client device 110. In some versions of these embodiments, a globally ordered ML model can be used to process one or more of the ZP suggestions included in the superset of candidate ZP suggestions 150A, which are based on user interactions specific to the user of client device 110. In some versions of these embodiments, the globally ordered ML model may be used to process one or more of the ZP suggestions included in the superset of candidate ZP suggestions 150A that are based on user interactions that are not specific to the user of the client device 110, such as user interactions of other users with respective client devices.
In various embodiments, ZP suggestion engine 140 is further capable of processing user profile data of a user of client device 110 when processing each of the plurality of different corresponding suggestion states 140A and one or more of the ZP suggestions included in the superset of candidate ZP suggestions 150A using one or more ordered ML models. User profile data for a user of the client device 110 can be obtained from the user profile database(s) 110A. The user profile data can include, for example, software application usage data (e.g., when a user of the client device 110 uses a particular software application, how a user of the client device 110 uses a particular software application, etc.), software application preference data (e.g., whether a user of the client device 110 prefers a particular software application for playing particular media content, obtaining navigation directions, booking a car pool, etc.), smart home data (e.g., an indication of smart networking devices associated with house graphics of a user of the client device 110, semantic identifiers associated with each smart networking device, etc.), browsing history, and/or any other data associated with a user of the client device 110 that is locally available at the client device 110.
In various embodiments, one or more of the ZP suggestions selected for inclusion in the corresponding subset of ZP suggestions 160A may need to be customized for the user of client device 110. For example, the automated assistant 120 can identify one or more ZP suggestions selected for inclusion in a corresponding subset of ZP suggestions 160A and including corresponding placeholders. For example, assume that a given ZP suggestion corresponds to "call [ contact entry ]," turn on [ light location ] light, "or" play podcast on [ media application ]. In this example, the corresponding placeholders for a given ZP suggestion can correspond to [ contact entry ], [ light location ], or [ media application ], respectively. Further, in these embodiments, the ZP customization engine can utilize the user profile data stored in the user profile database(s) 110A to populate the corresponding placeholders with corresponding personalized identifiers associated with the user of the client device 110.
In these embodiments, ZP customization engine 170 is capable of identifying corresponding personalized identifiers associated with the user of client device 110 and populating corresponding placeholders associated with the ZP suggestions with the corresponding personalized identifiers. For example, assume that "call [ contact entry ]" is a given ZP suggestion that is selected for inclusion in a corresponding subset of ZP suggestions associated with the "off-shift home" suggestion state, and that the user typically calls his/her spouse when off-shift home. In this example, ZP customization engine 170 can identify contact entries associated with the user's spouse, thereby generating ZP suggestions of "call spouse". As another example, assume that "call [ contact entry ]" is a given ZP suggestion that is selected for inclusion in a corresponding subset of ZP suggestions associated with a "work-out home" suggestion state, and that the user typically calls his/her sibling when going home off work. In this example, ZP customization engine 170 is able to identify contact entries associated with the user's siblings, resulting in ZP suggestions of "call siblings". As another example, assume that "play podcasts on media application" is a given ZP suggestion that is selected for inclusion in a corresponding subset of ZP suggestions associated with a "media play" suggestion state, and that the user typically listens to podcasts with the first media application. In this example, ZP customization engine 170 can identify contact entries associated with the user's siblings, thereby generating ZP suggestions of "play podcasts on the first media application". Thus, ZP customization engine 170 is capable of customizing one or more ZP suggestions included in one or more of the corresponding subsets of ZP suggestions 160A, thereby generating one or more corresponding customized subsets of ZP suggestions 170A. Further, the ZP customization engine 170 can cause one or more corresponding customization subsets of ZP suggestions 170A to be stored in the ZP suggestion database 160A in association with a respective one of the plurality of different corresponding suggestion states 140A.
Thus, as described in more detail with respect to fig. 5A-5D, when the occurrence of a given suggestion state is subsequently detected at client device 110, automated assistant 120 is able to quickly and efficiently obtain a corresponding subset of ZP suggestions stored in association with the given suggestion state. Further, the automated assistant 120 can cause one or more ZP suggestions from the corresponding subset of ZP suggestions to be provided for presentation to the user of the client device 110 without having to wait for various components of the client device 110 to be activated. In response to receiving a user selection of a given ZP suggestion provided for presentation to the user, the automated assistant 120 can initiate execution of one or more corresponding actions or assistant commands associated with the given ZP suggestion selected by the user of the client device 110. In various embodiments, for each of the ZP suggestions provided for presentation to the user, the performance data associated with each of the corresponding actions can be pre-cached in an on-device memory (or storage) of client device 110 to further reduce latency in the execution of the corresponding actions.
Turning now to fig. 3, a flow diagram illustrating an example method 300 of generating a corresponding subset(s) of zero prefix suggestions locally at a client device for a user of the client device and suggestion state(s) associated with the client device and then causing the client device to utilize the corresponding subset(s) of zero prefix suggestions is depicted. For convenience, the operations of method 300 are described with reference to a system performing the operations. This system of method 300 includes one or more processors, memory, and/or other component(s) of computing device(s) (e.g., client device 110 of fig. 1 and 5A-5D, computing device 610 of fig. 6, one or more servers, and/or other computing devices). Furthermore, although the operations of method 300 are illustrated in a particular order, this is not meant to be limiting. One or more operations may be reordered, omitted, and/or added.
At block 352, the system determines whether one or more device conditions of the client device of the given user are met. The one or more device conditions of the client device of the given user can include, for example, the client device being charged, the client device having at least a threshold state of charge, the temperature of the client device being less than a threshold, the given user not holding the client device, a newly-proposed state associated with the client device having been detected, a time of day of the location of the client device, a day of the week of the location of the client device, and/or any other device condition described herein. If the iteration of block 352, the system determines that one or more device conditions are not met, the system continues to monitor whether one or more device conditions are met at block 352. If, at the iteration of block 352, the system determines that one or more device conditions are met, the system proceeds to block 354.
At block 354, the system identifies (or generates) a given suggestion state associated with a client device of a given user. The given suggestion state may be one of a plurality of different suggestion states associated with a client device of the user. Each of the plurality of suggested states can be associated with one or more device signals generated by the client device or an additional device in communication with the client device and can be defined at a different granularity (e.g., as described with respect to the suggested state engine 140 of fig. 1 and 2). The one or more device signals can include, for example, a location of the client device, a semantic indication of the location of the client device, a time or time range associated with the location of the client device, a date associated with the location of the client device, a calendar entry associated with a calendar software application of the client device, an electronic communication associated with one or more electronic communication software applications of the client device, a given software application running in a foreground of the client device, a given software application running in a background of the client device, historical usage of one or more software applications accessible at the client device, an indication of one or more additional client devices in communication with the client device, or a clipboard comprising content copied at the client device. In some embodiments, a given advice state can be generated during peak hours of use of the client device when one or more device signals are detected and when one or more device conditions are not met, and the given advice state is then identified during off-peak hours of use of the client device to generate a corresponding subset of ZP advice associated with the given advice state after the one or more device signals are detected and when the one or more device conditions are met. In additional or alternative embodiments, the given advice state can be generated during off-peak hours of use of the client device after detection of the one or more device signals and when the one or more device conditions are met.
Further, each of the plurality of suggested states can be assigned a corresponding semantic identifier. For example, the hierarchy of different suggested states defined at different granularities may include a "thailand restaurant at night" suggested state, a "thailand restaurant" suggested state, a "restaurant" suggested state, and a "evening" suggested state, wherein each of these suggested states may be associated with one or more device signals. As another example, another hierarchy of different suggested states defined at different granularities may include a "media play for morning exercise" suggested state, a "media play for exercise" suggested state, an "exercise" suggested state, and a "media play" suggested state, where each of these suggested states may be associated with one or more device signals.
At block 356, the system identifies (or generates) a superset of candidate ZP suggestions (or superset of original candidate ZP suggestions). A superset of candidate ZP suggestions can be identified (or generated) based on multiple user interactions of a given user with a client device (or other devices in communication with a client device) and/or multiple user interactions of other users with respective client devices (or other devices in communication with respective client devices). ZP suggestions included in the superset of candidate ZP suggestions can be considered original candidate ZP suggestions because these ZP suggestions are determined based on the plurality of user interactions 210B, but are not customized for the user of the client device 110. In some embodiments, the plurality of user interactions considered may be limited to situations when one or more device signals associated with one or more suggested states are detected at the user's client device and/or the other user's respective client device, respectively. In some embodiments, when multiple user interactions are detected and when one or more device conditions are not met, a superset of candidate ZP suggestions can be generated during peak hours of use of the client device, and after the multiple user interactions are detected and when one or more device conditions are met, then the superset of candidate ZP suggestions are identified during off-peak hours of use of the client device to generate a corresponding subset of ZP suggestions associated with the given suggestion state. In additional or alternative embodiments, a superset of candidate ZP suggestions can be generated during off-peak times of use of the client device after detection of the one or more device signals and when the one or more device conditions are met. For example, assume that upon entering a vehicle associated with a given user, the given user initiates and performs a telephone call with a spouse using the in-vehicle system, and after performing the telephone call, plays media using the in-vehicle system. In this example, an indication of the user interaction that initiated the telephone call (and optionally by an indication of the telephone call between the user and the spouse) and that caused the media play to be performed can be included in the superset of candidate ZP suggestions.
At block 358, the system processes the given suggestion state identified at block 354 and the superset of candidate ZP suggestions identified at block 356 using one or more ordered ML models to generate a corresponding score for each of the candidate ZP suggestions and with respect to the given suggestion state. For example, assume that the superset of candidate ZP suggestions includes 100 candidate ZP suggestions. In this example, a corresponding score for each of the candidate ZP suggestions can be generated based on processing the given suggestion state identified at block 354 and the superset of candidate ZP suggestions identified at block 356, thereby producing 100 corresponding scores. In some embodiments, the system can process user profile data for one or more user profiles of a given user of the client device using one or more of the ranked ML models and the given suggestion state identified at block 354 and the superset of candidate ZP suggestions identified at block 356. In some embodiments, the one or more ranked ML models include a personal ranked ML model that is personalized to a given user of the client device, while in other embodiments, the one or more ranked ML models include a global ML model that is not personalized to the given user of the client device.
At block 360, the system selects one or more candidate ZP suggestions from the superset of candidate ZP suggestions based on the corresponding scores to include in the corresponding subset of ZP suggestions for a given suggestion state. In some embodiments, the system can select a threshold number of candidate ZP suggestions for inclusion in a corresponding subset of ZP suggestions based on the corresponding score. For example, the system can select five, seven, eight, or any other number of candidate ZP suggestions from a superset of candidate ZP suggestions based on a corresponding score associated with the candidate ZP suggestions that indicates that the candidate ZP suggestions are more relevant to a given user of the client device in view of a given suggestion state. In some embodiments, at block 360A, the system customizes the selected candidate ZP suggestions for the user. The system can identify any of candidate ZP suggestions selected for inclusion in a corresponding subset of ZP suggestions associated with a corresponding placeholder, such as a corresponding placeholder in an entity reference placeholder associated with a particular contact entry, a software application identifier placeholder associated with a preferred software application of a particular assistant command, a smart networking device identifier placeholder associated with one or more particular smart networking devices. Further, the system can determine one or more personalized identifiers to be used to populate corresponding placeholders based on user profile data (e.g., stored in user profile database 110A of fig. 1) for one or more user profiles of a given user of the client device.
At block 362, the system stores the corresponding subset of ZP suggestions associated with the given suggestion state in on-device memory of the client device. At block 364, the system determines whether there is an additional suggestion state associated with the client device to generate an additional corresponding subset of ZP suggestions for the additional suggestion state. If, at the iteration of block 364, the system determines that there are additional given suggestion states associated with the client device to generate additional corresponding subsets of ZP suggestions for the additional given suggestion states, the system returns to block 352 to perform additional iterations of method 300 with respect to the additional given suggestion states instead of the given suggestion states. For example, upon generating an additional corresponding subset of ZP suggestions, the system can process the same superset of candidate ZP suggestions, but different device signal(s) associated with the additional suggestion state and including at least one unique device signal that is independent of the suggestion state. If, at the iteration of block 364, the system determines that there are no additional given suggestion states associated with the client device to generate additional corresponding subsets of ZP suggestions for the additional given suggestion states, the system proceeds to block 366. At block 366, the system causes the client device to provide one or more ZP suggestions for presentation to a given user of the client device (e.g., as described with respect to method 400 of fig. 4) with a corresponding subset of ZP suggestions.
Although only a single instance of block 352 is depicted in method 300 of fig. 3 and a single instance of block 352 is depicted at the beginning of method 300 of fig. 3, it should be understood that this is for illustration and not meant to be limiting. In some embodiments, one or more additional examples of block 352 may be implemented throughout the execution of method 300 of fig. 3. For example, additional examples of block 352 may be implemented between each block of the method 300 of fig. 3. In some versions of these embodiments, and in response to determining that one or more of the device conditions are no longer met, the iteration of method 300 of fig. 3 may be paused, and data characterizing the iteration state of method 300 of fig. 3 can be saved in an on-device memory (or storage device) of the client device, such that when one or more device conditions are subsequently met, the data characterizing the iteration state of method 300 of fig. 3 can be loaded and the iteration of method 300 of fig. 3 can be resumed.
Furthermore, while the method 300 of fig. 3 is described with respect to initially generating a corresponding subset of ZP suggestions for a plurality of different suggestion states, it should be understood that this is for illustration and not meant to be limiting. For example, a subsequent iteration of method 300 can be implemented to subsequently update a corresponding subset of ZP suggestions for a plurality of different suggestion states. In some embodiments, subsequent iterations of method 300 can be implemented to subsequently update corresponding subsets of ZP suggestions for a plurality of different suggestion states each time one or more device conditions are met. In additional or alternative embodiments, subsequent iterations of the method 300 can be implemented to subsequently update the corresponding subset of ZP suggestions for a plurality of different suggestion states when one or more device conditions are met after a threshold duration has elapsed (e.g., when one or more device conditions are met a week after the corresponding subset of ZP suggestions are initially generated or updated). In additional or alternative embodiments, subsequent iterations of the method 300 can be implemented to subsequently update the corresponding subset of ZP suggestions for the plurality of different suggestion states upon determining that one or more device conditions are met after detecting a new suggestion state (e.g., based on detecting a new unique combination of device signals at the client device) or determining that a new suggestion state is expected (e.g., based on calendar data of a calendar application accessible at the client device indicating an upcoming event (e.g., an upcoming flight, an upcoming dinner, etc.), based on one or more electronic communication applications accessible at the client device (e.g., an electronic communication of text messaging application, email application, social media application, etc.) indicating an upcoming event.
Turning now to fig. 4, a flow chart is depicted illustrating an example method 400 of utilizing corresponding subset(s) of zero prefix suggestions previously generated locally at a client device based on detecting occurrence(s) of suggestion state(s). For convenience, the operations of method 400 are described with reference to a system performing the operations. The system of method 400 includes one or more processors, memory, and/or other component(s) of computing device(s) (e.g., client device 110 of fig. 1 and 5A-5D, computing device 610 of fig. 6, one or more servers, and/or other computing devices). Furthermore, although the operations of method 400 are illustrated in a particular order, this is not meant to be limiting. One or more operations may be reordered, omitted, and/or added.
At block 452, the system maintains a plurality of corresponding different subsets of ZP suggestions in an on-device memory (or storage) of the client device of the given user, each of the corresponding different subsets of ZP suggestions being stored in association with a corresponding suggestion state of the plurality of different suggestion states. The system can maintain a plurality of corresponding different subsets of ZP suggestions and corresponding different subsets of ZP suggestions in an on-device memory (or storage) of a client device of a given user using one or more iterations of the method 300 of fig. 3.
At block 454, the system determines whether the occurrence of a given proposed state has been detected. When one or more device signals associated with a given advice state are detected at a client device of or in communication with an additional device of the given user, the system can determine whether an occurrence of the given advice state has been detected. One or more device signals are described herein (e.g., with respect to the proposed state engine 140 of fig. 1 and 2 and with respect to block 354 of fig. 3). If, in the iteration of block 454, the system determines that the occurrence of the given proposed state has not been detected, the system continues to monitor for the occurrence of the given proposed state at block 454. If, at the iteration of block 454, the system determines that the occurrence of a given proposed state has been detected, the system proceeds to block 456.
At block 456, the system obtains a given corresponding subset of ZP suggestions stored in association with a given suggestion state from on-device memory (or storage) of the client device. For example, a plurality of different corresponding subsets of ZP suggestions can be stored in on-device memory (or storage) of a client device of a given user in association with a plurality of different corresponding suggestion states. The system can identify a given suggestion state detected at a client device of a given user in an on-device memory (or storage device) of the client device and can retrieve a corresponding subset of ZP suggestions stored in the on-device memory (or storage device) in association with the given suggestion state.
At block 458, the system causes one or more ZP suggestions from a given corresponding subset of ZP suggestions stored in association with the given suggestion state to be provided for presentation to the given user. In some embodiments, the number of ZP suggestions provided for presentation to a given user may be based on the size of the display area for the ZP suggestions of the client device or an additional client device in communication with the client device. For example, a corresponding subset of ZP suggestions stored in association with a given suggestion state may include 10 ZP suggestions. However, the size of the display area for the ZP suggestion may include only space available for a portion of the ZP suggestions included in the corresponding subset of ZP suggestions, such as three ZP suggestions. In this example, the system may select three ZP suggestions from the 10 ZP suggestions to be provided for presentation to the user (e.g., based on the corresponding scores associated with the 10 ZP suggestions generated at block 358 of fig. 3), and the system may optionally provide a selectable element that, when selected, causes one or more other ZP suggestions from the 10 ZP suggestions to be provided for presentation to the user. In other embodiments, each ZP suggestion from the corresponding subset of ZP suggestions may be provided for presentation to the user.
At block 460, the system determines whether to receive a user selection of a given ZP suggestion from a given user of the client device. The user selection can be, for example, a voice selection of a given ZP suggestion detected via a microphone of the client device or an additional client device in communication with the client device, and/or a touch selection of a ZP suggestion detected via a display of the client device or an additional client device in communication with the client device. If, at the iteration of block 460, the system determines that no selection of ZP suggestions has been received from the given user of the client device, the system proceeds to block 464. Block 464 is described in more detail below. If, at the iteration of block 460, the system determines that a selection of a given ZP suggestion was received from a given user of the client device, the system proceeds to block 462.
At block 462, the system causes the client device or an additional client device of the given user in communication with the client device to perform a corresponding action associated with the given ZP suggestion. The corresponding actions associated with a given ZP suggestion can vary based on the given ZP suggestion (e.g., as described with respect to fig. 5A-5D). At block 464, the system updates a given corresponding subset of ZP suggestions stored in association with the given suggestion state with the selection (or lack thereof) of the given ZP suggestion. For example, in response to detecting a future occurrence of a given suggestion state, the selection (or lack of) a given ZP suggestion can be used to influence which of the corresponding subsets of ZP suggestions should be provided for presentation to a given user. In other words, the selection (or lack of) of a given ZP suggestion can be used to modify the corresponding score associated with the given ZP suggestion, and optionally the corresponding score associated with other ZP suggestions provided for presentation to the given user. For example, assuming a given ZP suggestion is selected by a given user, the system can modify the corresponding score associated with the given ZP suggestion such that the given ZP suggestion is more likely to be provided for presentation to the given user in response to detecting a future occurrence of the given suggestion state. Further, for example, assuming ZP suggestions are not selected by a given user, the system can modify the corresponding scores associated with these ZP suggestions so that it is unlikely that these ZP suggestions will be provided for presentation to the given user in response to detecting future occurrences of the given suggestion state. As another example, the selection (or lack of) a given ZP suggestion can be used to influence which of the corresponding subsets of ZP suggestions should be included in the corresponding subsets of ZP suggestions stored in association with the given suggestion state. In other words, the selection (or lack thereof) of a given ZP suggestion can be used to subsequently update a corresponding set of ZP suggestions stored in association with the given suggestion state. For example, assuming that ZP suggestions are not selected by a given user, the system can modify the corresponding scores associated with these ZP suggestions such that it is unlikely that these ZP suggestions will be included in the corresponding subsets of ZP suggestions stored in association with the given suggestion state when the corresponding subsets of ZP suggestions are subsequently updated.
Turning now to fig. 5A-5D, various non-limiting examples are depicted that utilize corresponding subset(s) of zero prefix suggestions that were previously generated locally at client device 110 based on detecting occurrence(s) of suggestion state(s). Client device 110 may include various user interface components including, for example, microphone(s) for generating audio data based on spoken utterances and/or other audible input, speaker(s) for audibly presenting synthesized speech and/or other audible output, and/or display 180 for visually presenting ZP suggestions and/or other visual output. Further, the display 180 of the client device 110 can include various system interface elements 181, 182, and 183 (e.g., hardware and/or software interface elements) with which a user of the client device 110 can interact to cause the client device 110 to perform one or more actions. The display 180 of the client device 110 enables a user to interact with content presented on the display 180 by touch input (e.g., by directing user input to the display 180 or portions thereof (e.g., to the text input box 184, the keyboard 186, or other portions of the display 180)) and/or by verbal input (e.g., by selecting the microphone interface element 185-or by speaking alone without having to select the microphone interface element 185 (i.e., the automated assistant may monitor one or more terms or phrases, gesture(s), gaze(s), mouth movement(s), lip movement(s), and/or other conditions that activate verbal input) at the client device 110).
Referring specifically to fig. 5A, assume that a user of client device 110 has entered his/her vehicle for work and that display 180 of client device 110 is displaying a user interface associated with home screen 180A of client device 110. Further assume that a corresponding subset of ZP suggestions associated with the "work morning shift" suggestion state was previously generated and stored in an on-device memory (or storage device) of client device 110 (e.g., using the techniques described with respect to fig. 2 and 3) in association with the "work morning shift" suggestion state. In the example of fig. 5A, client device 110 can detect the occurrence of a "work day shift" advice state based on various device signals that match the device signals originally identified for the "work day morning shift" advice state when generating the corresponding subset of ZP advice. For example, the occurrence of a "workday morning shift" advice state can be detected based on, for example, a time of day associated with the location of the client device 110 (e.g., 9:00 am), a day of the week associated with the location of the client device 110 (e.g., friday), a date associated with the location of the client device 110 (e.g., 15 days 1 in 2021), an indication of one or more additional client devices in communication with the client device (e.g., a bluetooth connection between the client device 110 and the in-vehicle computing device), and/or based on other device signals described herein that were previously identified as corresponding to a "workday morning shift" advice state. As described herein, a number of different suggested states can be defined at different granularities. Thus, it should be understood that the "work morning shift" advice status is provided for example only and is not meant to be limiting. For example, one or more other suggested states that are more specific and/or more general can additionally or alternatively be identified, and corresponding subsets of ZP suggestions for these other suggested states can also be generated. For example, other corresponding subsets of ZP suggestions associated with the "workday morning commute" suggestion state, the "workday morning" suggestion state, and/or other suggestion states can additionally or alternatively be generated and stored in association in an on-device memory (or storage) of client device 110.
Further assume that the corresponding subset of ZP suggestions stored in association with the "workday morning shift" suggestion status includes, for example: "go to 401S.4 th First ZP suggestion 552A of traffic conditions on street route, wherein "401s.4 th Street "corresponds to a work address as a user of the client device 110 for populating a personalized identifier of the corresponding placeholder, and the first ZP suggestion, upon selection, causes traffic conditions along one or more routes to the work address to be provided for audible and/or visual presentation to the user via the client device 110 or via an on-board computing device of the device; a second ZP suggestion 554A of "start new set of favorite podcasts" that, when selected, causes the new set of user's favorite podcasts to be played for audible presentation to the user via the client device 110 and/or via the device's on-board computing device (and optionally using the user's preferred media application); a third ZP recommendation 556A for "turn on windshield defroster" that, when selected, causes the windshield defroster of the vehicle to be activated via an on-board computing device in communication with the client device 110; and a fourth ZP suggestion 558A of "listen to favorite news stations" that, when selected, causes the user's favorite news stations to be played for audible presentation to the user via the client device 110 and/or via the vehicle's on-board computing device (and optionally using the user's preferred media application or the vehicle's radio). In some embodiments, the corresponding subset of ZP suggestions can include additional ZP suggestions that are stored in association with the "workday morning shift" suggestion state, but are not provided for presentation to the user due at least in part to the display area of the display 180. In these embodiments, client device 110 may further display a selectable element 560A that, when selected, causes one or more additional ZP suggestions to be provided for presentation to the user by expanding the ZP suggestion list or replacing the displayed ZP suggestions with one or more of the additional ZP suggestions. Additionally or alternatively, the user of client device 110 may eliminate ZP suggestions provided for presentation to the user by sliding down on element 186.
In the example of fig. 5A, each of the ZP suggestions provided for presentation based on previous user interactions of the user of client device 110 and/or other users can be included in a corresponding subset of ZP suggestions associated with a "workday morning shift" suggestion state. For example, suppose a user historically views traffic conditions using a navigation application prior to work to determine the fastest route to a work address. In this example, the corresponding score generated for the first ZP suggestion 552A and with respect to the "workday morning shift" suggestion status should indicate that the first ZP suggestion 552A should be selected for inclusion in the corresponding subset of ZP suggestions. As another example, suppose a user typically listens to a favorite podcast or favorite news station while on duty (and optionally using a preferred media application). In this example, i am second ZP suggestion 554A and fourth ZP suggestion 558A and the corresponding score generated with respect to the "workday morning shift" suggestion status should indicate that second ZP suggestion 554A and fourth ZP suggestion 558A should be selected for inclusion in the corresponding subset of ZP suggestions. As another example, assume that during the past several months, when the weather in a certain location of the client device 110 has been colder, the user has typically caused the windshield defroster to be activated. In this example, the corresponding score generated for the third ZP suggestion 556A and regarding the "workday morning shift" suggestion status should indicate that the third ZP suggestion 556A should be selected for inclusion in the corresponding subset of ZP suggestions.
Referring specifically to fig. 5B, assume that the user of client device 110 has entered his/her vehicle for going home off duty and that display 180 of client device 110 is displaying a user interface associated with home screen 180A of client device 110. Further assume that a corresponding subset of ZP suggestions associated with the "work evening home off 'suggestion state was previously generated and stored in on-device memory (or storage) of client device 110 (e.g., using the techniques described with respect to fig. 2 and 3) in association with the" work evening home off' suggestion state. In the example of fig. 5B, client device 110 can detect the occurrence of the "work night out of work home" advice state based on the various device signal(s) that match the device signal(s) originally identified for the "work night out of work home" advice state when generating the corresponding subset of ZP advice. For example, the occurrence of the "work evening work coming home" advice state can be detected based on, for example, a time of day associated with the location of the client device 110 (e.g., 5:00 pm), a day of the week associated with the location of the client device 110 (e.g., friday), a date associated with the location of the client device 110 (e.g., 15 days of 2021), an indication of one or more additional client devices in communication with the client device (e.g., a bluetooth connection between the client device 110 and the in-vehicle computing device), and/or based on other device signal(s) described herein that were previously identified as corresponding to the "work evening work coming home" advice state.
Further assume that the corresponding subset of ZP suggestions stored in association with the "work evening home off working" suggestion state includes, for example: a first ZP suggestion 552B of "call potato," wherein the "potato" corresponds to a contact entry associated with a user's spouse (e.g., a personalized identifier) accessible at a contact application of the client device 110, and which, upon selection, causes the client device 110 to initiate a telephone call with the user's spouse via the client device 110; a second ZP suggestion 554B of "navigate to restaurant" that, when selected, causes a navigation application accessible at the client device 110 to obtain a navigation direction to an address associated with the restaurant copied to the clipboard of the client device 110; a third ZP recommendation 556B of "turn on corridor lights" that, when selected, causes one or more lights assigned the semantic identifier "corridor lights" to be illuminated via a smart light application accessible at the client device 110; and a fourth ZP suggestion 558B of "play favorite artist using favorite music application" that, when selected, causes songs of the user favorite artist to be played via client device 110 and/or via an on-board computing device of the vehicle and using the user's preferred media application for audible presentation to the user. In some embodiments and similar to fig. 5a, a corresponding subset of ZP suggestions can include additional ZP suggestions that are stored in association with a "work evening out of work home" suggestion state, but are not provided for presentation to the user due at least in part to the display area of display 180. In these embodiments, client device 110 may further display a selectable element 560B that, when selected, causes one or more additional ZP suggestions to be provided for presentation to the user by expanding the ZP suggestion list or replacing the displayed ZP suggestions with one or more of the additional ZP suggestions. Additionally or alternatively, the user of client device 110 can eliminate ZP suggestions provided for presentation to the user by sliding down on element 186.
In the example of fig. 5B, each of the ZP suggestions provided for presentation can be included in a corresponding subset of ZP suggestions associated with the "work day evening home off advice state based on previous user interactions of the user of client device 110 and/or other users. For example, suppose a user historically called a spouse when going to work. In this example, the corresponding score generated for the first ZP suggestion 552B and regarding the "work-evening return home" suggestion status should indicate that the first ZP suggestion 552B should be selected for inclusion in the corresponding subset of ZP suggestions. As another example, suppose a user turns on a "corridor light" typically during winter hours to ensure that the user has enough light when the darker month is home. In this example, the corresponding score generated for the third ZP suggestion 556B and regarding the "work evening home off" suggestion status should indicate that the third ZP suggestion 556B should be selected for inclusion in the corresponding subset of ZP suggestions. As another example, suppose a user typically listens to music of a favorite artist when driving home from work to help decompress. In this example, the corresponding score generated for the fourth ZP suggestion 558B and regarding the "work evening home off" suggestion status should indicate that the fourth ZP suggestion 558B should be selected for inclusion in the corresponding subset of ZP suggestions.
In various implementations, and with respect to the second ZP suggestion 554B, one or more ZP suggestions can be based on transient information at the client device 110 (e.g., information copied to a clipboard of the client device 110 or otherwise stored instantaneously at the client device 110). In these embodiments, the corresponding placeholders associated with these ZP suggestions may not be populated with the corresponding personalized identifiers until the transient information is available at the client device (e.g., rather than initially generating a corresponding subset of ZP suggestions as the first ZP suggestion 552A of "call potato"). Further, in these embodiments, any suggestions including transient information can be promoted over other ZP suggestions such that these ZP suggestions are provided for presentation to the user, rather than having to be discovered by the user of client device 110 via one or more selections of selectable element 560B. Although fig. 5A and 5B are described with respect to detecting the occurrence of a suggested state at least in part upon detecting a connection between client device 110 and an additional computing device (e.g., an onboard computing device of a user's vehicle), it should be understood that this is by way of example and not meant to be limiting.
For example, with particular reference to fig. 5C, assume that the user of client device 110 has arrived at a location associated with an example mexico restaurant (i.e., an imaginary mexico restaurant) and that display 180 of client device 110 is displaying a user interface associated with first software application 180B. Further assume that a corresponding subset of ZP suggestions associated with the "eat dinner at example mexico restaurant" suggestion state was previously generated and stored in on-device memory (or storage) of client device 110 (e.g., using the techniques described with respect to fig. 2 and 3) in association with the "eat dinner at example mexico restaurant" suggestion state. In the example of fig. 5B, client device 110 can detect the occurrence of the "eat dinner at the example mexico restaurant" advice state based on the various device signal(s) that were initially identified for the "eat dinner at the example mexico restaurant" advice state when the corresponding subset of ZP advice was generated. In this example, the "eat dinner in example mexico restaurant" advice status can be identified based on, for example, a calendar entry of a calendar application accessible at the client device 110 indicating that the user has a reservation on friday evenings, launches the first software application 180B (e.g., browser application, translation application, etc.). Thus, the occurrence of the "eat dinner at example mexico restaurant" advice state can be detected based on, for example, the time of day of the matching reservation time associated with the location of the client device 110 (e.g., 7:00 pm), the day of the week of the matching reservation workday associated with the location of the client device 110 (e.g., friday), the date of the matching reservation date associated with the location of the client device 110 (e.g., 15 days 1 month 2021), the location of the client device 110 matching a known location of the example mexico restaurant, and/or based on other device signals described herein that were previously identified as corresponding to the "eat dinner at example mexico" advice state.
Further assume that the corresponding subset of ZP suggestions stored in association with the "eat dinner at example mexico restaurant" suggestion status includes, for example: what is 'pollo con aroz'? "first ZP suggestion 552c that, when selected, causes client device 110 to translate" polo con aroz "from spanish to english, or causes client device 110 to perform a query for" polo con aroz "; "how you say 'happy birthday' in spanish? "a second ZP suggestion 554C that, when selected, causes the client device 110 to translate" happy birthday "from english to spanish, or causes the client device 110 to execute a query for" spanish 'happy birthday' "at the client device 110; a third ZP suggestion 556C of "movie time of theatres near me" that, when selected, causes client device 110 to obtain movie time of one or more movies of theatres near the location of client device 110; and a fourth ZP suggestion 558C of "schedule post-dinner rides," which, when selected, causes client device 110. In some embodiments and similar to fig. 5A and 5b, the corresponding subset of ZP suggestions may include additional ZP suggestions stored in association with the "eat dinner in an example mexico restaurant" suggestion state, but not provided for presentation to the user due at least in part to the display area of display 180. In these embodiments, client device 110 may further display a selectable element 560C that, when selected, causes one or more additional ZP suggestions to be provided for presentation to the user by expanding the ZP suggestion list or replacing the displayed ZP suggestions with one or more of the additional ZP suggestions. Additionally or alternatively, the user of client device 110 can eliminate ZP suggestions provided for presentation to the user by sliding down on element 186.
In the example of fig. 5C, each of the ZP suggestions provided for presentation based on previous user interactions of the user of client device 110 and/or other users can be included in a corresponding subset of ZP suggestions associated with the "eat dinner at example mexico restaurant" suggestion state. For example, suppose that a user and/or other user historically requires translation of a particular word and/or phrase while eating in a mexico restaurant. In this example, the corresponding scores generated for the first ZP suggestion 552C and the second ZP suggestion 554C and with respect to the "eat dinner in example mexico restaurant" suggestion status should indicate that the first ZP suggestion 552C and the second ZP suggestion 554C should be selected for inclusion in the corresponding subset of ZP suggestions. As another example, assume that a user typically goes to watch a movie after having eaten dinner. In this example, the corresponding score generated for the third ZP suggestion 556C and regarding the "eat dinner in example mexico restaurant" suggestion status should indicate that the third ZP suggestion 556C should be selected for inclusion in the corresponding subset of ZP suggestions. As another example, assume that a user has typically reserved a ride for a movie that goes home after dinner or after dinner using a ride-sharing application. In this example, the corresponding score generated for the fourth ZP suggestion 558C and regarding the "eat dinner in example mexico restaurant" suggestion status should indicate that the fourth ZP suggestion 558C should be selected for inclusion in the corresponding subset of ZP suggestions.
As described herein, when one or more device conditions are met after a threshold duration has elapsed, a corresponding subset of ZP suggestions can be updated (e.g., once a day, once a week, once a month, etc.). For example, with specific reference to fig. 5D, assume that the user of client device 110 has entered his/her vehicle for work and that display 180 of client device 110 is displaying a user interface associated with client device 110 home screen 180A, as described with respect to fig. 5A. Further assume that a corresponding subset of ZP suggestions associated with the "work morning shift" suggestion state is previously generated and stored in an on-device memory (or storage device) of client device 110 (e.g., using the techniques described with respect to fig. 2 and 3) in association with the "work morning shift" suggestion state. In the example of fig. 5D, client device 110 can similarly detect the occurrence of the "work day shift" advice state based on the various device signal(s) that match the device signal originally identified for the "work day morning shift" advice state when generating the corresponding subset of ZP advice. However, in the example of fig. 5D, the date associated with the location of the client device 110 (e.g., 2021, 6, 28 days) may be different from the date associated with the client device 110 in the example of fig. 5A (e.g., 2021, 1, 15 days).
Thus, in the example of fig. 5D, one or more ZP suggestions included in the corresponding subset of ZP suggestions stored in association with the "workday morning shift" suggestion state may be different from those ZP suggestions of fig. 5A. For example, a corresponding subset of ZP suggestions may include a third ZP suggestion 556D of "shake down a window" that, when selected, causes the window to be shake down via an in-vehicle computing device in communication with the client device 110, rather than causing the windshield defroster to be activated as described above with respect to fig. 5A. In the example of fig. 5D, third ZP suggestion 556C can be included in a corresponding subset of ZP suggestions associated with the "workday morning work on work" suggestion state based on previous user interactions of the user of client device 110 and/or other users. For example, assuming that several months have passed, the user typically shakes down the window when the weather in a certain location of the client device 110 has been warm. In this example, the corresponding score generated for the third ZP suggestion 556D and regarding the "workday morning shift" suggestion status should indicate that the third ZP suggestion 556D should be selected for inclusion in the corresponding subset of ZP suggestions.
Notably, one or more of the other ZP suggestions stored in association with the "workday morning shift" suggestion status and provided for presentation to the user, such as "go to 401s.4 th The first ZP suggestion 552D of traffic conditions "on the street route, the second ZP suggestion 554D of" start a new collection of favorite podcasts ", and the fourth ZP suggestion 558D of" listen to favorite news stations "may be coordinated with these ZP suggestions provided for presentation to the user of the client device 110 in fig. 5AAnd the same is true. Further, in some embodiments, client device 110 may further display a selectable element 560D that, when selected, causes one or more additional ZP suggestions to be provided for presentation to the user by expanding the ZP suggestion list or replacing the displayed ZP suggestions with one or more of the additional ZP suggestions. However, in the example of fig. 5D, one or more of the ZP suggestions provided for presentation to the user (e.g., the third ZP suggestion 556D) may differ from those ZP suggestions provided for presentation to the user in the example of fig. 5A based at least on how user interactions with the client device 110 or additional computing devices in communication with the client device 110 change over time. Thus, ZP suggestions provided for presentation to the user can be updated over time to ensure that the ZP suggestions are customized to the user as the context scene encountered at the client device 110 changes over time.
Although specific advice states and specific ZP advice are described with respect to fig. 5A through 5D, it should be understood that these advice states and ZP advice are provided for illustration and are not meant to be limiting. For example, it should be appreciated that the suggested states described herein are a function of a virtually unlimited context scenario that can vary from user to user. As another example, it should be appreciated that the ZP suggestions generated for the suggestion states are a function of different user interactions that may also vary from user to user. Furthermore, while a particular number and arrangement of particular ZP suggestions are described with respect to fig. 5A through 5D, it should be understood that this is by way of example and not meant to be limiting. For example, a greater or lesser number of ZP suggestions depicted throughout fig. 5A-5D can be provided for presentation to the user. Further, for example, ZP suggestions can be provided for presentation to the user as pop-up notifications, banner notifications in a separate ZP suggestion user interface that can replace the user interface displayed at the client device 110, and/or in any other manner for presenting visual content at the client device 110.
Turning now to fig. 6, a block diagram of an example computing device 610 that may optionally be used to perform one or more aspects of the techniques described herein is depicted. In some implementations, one or more of the client device, the cloud-based automated assistant component(s), and/or other component(s) may include one or more components of the example computing device 610.
The computing device 610 typically includes at least one processor 614 in communication with a plurality of peripheral devices via a bus subsystem 612. These peripheral devices may include: storage subsystem 624, including, for example, memory subsystem 625 and file storage subsystem 626; a user interface output 620; a user interface input device 622; and a network interface subsystem 616. The input and output devices allow user interaction with the computing device 610. The network interface subsystem 616 provides an interface to external networks and couples to corresponding interface devices among other computing devices.
The user interface input device 622 may include a keyboard, a pointing device such as a mouse, trackball, touch pad, or tablet, a scanner, a touch screen incorporated into a display, an audio input device such as a voice recognition system, a microphone, and/or other types of input devices. In general, use of the term "input device" is intended to include all possible types of devices and ways to input information into computing device 610 or onto a communication network.
The user interface output device 620 may include a display subsystem, a printer, a facsimile machine, or a non-visual display such as an audio output device. The display subsystem may include a Cathode Ray Tube (CRT), a flat panel device such as a Liquid Crystal Display (LCD), a projection device, or some other mechanism for producing a viewable image. The display subsystem may also provide for a non-visual display, such as via an audio output device. In general, use of the term "output device" is intended to include the various possible types of devices and ways to output information from computing device 610 to a user or another machine or computing device.
Storage subsystem 624 stores programming and data structures that provide the functionality of some or all of the modules described herein. For example, storage subsystem 624 may include logic for performing selected aspects of the methods disclosed herein, as well as implementing the various components depicted in fig. 1 and 2.
These software modules are typically executed by processor 614 alone or in combination with other processors. The memory 625 used in the storage subsystem 624 can include a number of memories including a main Random Access Memory (RAM) 630 for storing instructions and data during program execution and a Read Only Memory (ROM) 632 for storing fixed instructions. File storage subsystem 626 may provide persistent storage for program and data files, and may include a hard disk drive, a floppy disk drive, and associated removable media, CD-ROM drive, optical disk drive, or removable media cartridge. Modules implementing the functionality of certain embodiments may be stored in storage subsystem 624 by file storage subsystem 626, or in other machines accessible to processor(s) 614.
Bus subsystem 612 provides a mechanism for allowing the various components and subsystems of computing device 610 to communicate with one another as intended. Although bus subsystem 612 is shown schematically as a single bus, alternative embodiments of bus subsystem 612 may use multiple buses.
Computing device 610 can be of various types including a workstation, a server, a computing cluster, a blade server, a server farm, or any other data processing system or computing device. Because of the ever-changing nature of computers and networks, the description of computing device 610 depicted in FIG. 6 is intended only as a specific example for purposes of illustrating some embodiments. Many other configurations of computing device 610 are possible with more or fewer components than the computing device depicted in FIG. 6.
Where the systems described herein collect or otherwise monitor personal information about a user, or may utilize personal and/or monitored information, the user may be provided with an opportunity to control whether programs or features collect user information (e.g., information about the user's social network, social behavior or activity, profession, user preferences, or the user's current geographic location), or whether and/or how to receive content from a content server that may be more relevant to the user. In addition, certain data may be processed in one or more ways prior to storage or use such that personal identification information is purged. For example, the identity of the user may be processed such that no personally identifiable information of the user can be determined, or the geographic location of the user may be summarized (such as to a city, zip code, or state level) with the geographic location information obtained such that a particular geographic location of the user cannot be determined. Thus, the user may control how information is collected about the user and/or how information is used.
In some embodiments, a method implemented by one or more processors is provided and includes generating, locally at a client device, a corresponding subset of zero prefix suggestions for a given user of the client device and a given suggestion state associated with the client device. Each of the zero prefix suggestions included in the corresponding subset of zero prefix suggestions is customized for a given user. Generating a corresponding subset of zero prefix suggestions for the given user and the given suggestion state includes: identifying a given suggestion state associated with the client device; identifying a superset of candidate zero prefix suggestions; processing the given suggestion state and the superset of candidate zero prefix suggestions using one or more ordered Machine Learning (ML) models to generate a corresponding score for each of the candidate zero prefix suggestions and with respect to the given suggestion state; and select one or more of the candidate zero prefix suggestions from the superset of candidate zero prefix suggestions based on the corresponding score for inclusion in the corresponding subset of zero prefix suggestions. The method further includes storing a corresponding subset of zero prefix suggestions associated with the given suggestion state in an on-device memory or storage of the client device; and after storing the corresponding subset of zero prefix suggestions associated with the given suggestion state, causing the client device to utilize the corresponding subset of zero prefix suggestions to provide one or more zero prefix suggestions for presentation to the given user.
These and other embodiments of the technology disclosed herein can optionally include one or more of the following features.
In some embodiments, the method may further include determining, at a first time, whether one or more client device conditions are met. Generating a corresponding subset of zero prefix suggestions for the given user and the given suggestion state may be in response to determining that one or more client device conditions are met at the first time. In some versions of these embodiments, the one or more client device conditions may include one or more of the following: the client device is charging, the client device has at least a threshold state of charge, the temperature of the client device is less than a threshold, the given user does not hold the client device, the given proposed state has been detected to be a newly proposed state associated with the client device, the time of day at the location of the client device, or the day of the week at the location of the client device. In additional or alternative versions of these embodiments, the method may further include determining, at a second time subsequent to the first time, whether one or more client device conditions are met; and in response to determining that the one or more client device conditions are satisfied at the second time: the corresponding subset of zero prefix suggestions is updated for the given user and the given suggestion state to generate an updated corresponding subset of zero prefix suggestions for the given user and the given suggestion state. In some other versions of these embodiments, the method may further include replacing, in on-device memory or storage, the corresponding subset stored in association with the given suggestion state with an updated corresponding subset of zero prefix suggestions.
In some embodiments, the method may further include generating, locally at the client device, an additional corresponding subset of zero prefix suggestions for the given user and an additional given suggestion state associated with the client device. Each of the zero prefix suggestions included in the additional corresponding subset of zero prefix suggestions may be customized for a given user, and the additional suggestion states may be different from the given suggestion states. Furthermore, at least one zero prefix suggestion in the additional corresponding subset of zero prefix suggestions included in the additional suggestion state may be different from the zero prefix suggestions in the corresponding subset of zero prefix suggestions included in the given suggestion state. Further, generating an additional corresponding subset of zero prefix suggestions for the given user, for the additional suggestion state, may include: identifying additional suggestion states associated with the client device; identifying a superset of candidate zero prefix suggestions; processing the additional proposed states and the superset of candidate zero prefix suggestions using one or more ordered Machine Learning (ML) models to generate additional corresponding scores for each of the candidate zero prefix suggestions and with respect to the additional proposed states; and selecting one or more of the candidate zero prefix suggestions from the superset of candidate zero prefix suggestions based on the additional correspondence score for inclusion in the additional correspondence subset of zero prefix suggestions. The method may further include storing an additional corresponding subset of zero prefix suggestions associated with the additional suggestion state in an on-device memory or storage of the client device; and after storing the additional corresponding subset of zero prefix suggestions associated with the additional suggestion state, causing the client device to utilize the additional corresponding subset of zero prefix suggestions to provide one or more of the zero prefix suggestions for presentation to the given user.
In some embodiments, generating the corresponding subset of zero prefix suggestions for the given user and the given suggestion state may further include causing one or more of the zero prefix suggestions to be selected for inclusion in the corresponding subset of zero prefix suggestions tailored for the given user. Causing one or more of the zero prefix suggestions to be selected for inclusion in a corresponding subset of zero prefix suggestions tailored to a given user may include: identifying one or more of the zero prefix suggestions selected for inclusion in the corresponding subset associated with the corresponding placeholder; and populating corresponding placeholders associated with one or more of the zero prefix suggestions selected for inclusion in the corresponding subset with corresponding personalized identifiers associated with the given user. In some versions of these embodiments, the corresponding personalized identifier associated with a given user may include one or more of the following: a contact entry identifier associated with a contact entry of a given user, a media identifier associated with media of interest to the given user, a home automation device identifier of a home automation device associated with the given user, a software application identifier of a software application accessible to a client device of the given user. In additional or alternative versions of these embodiments, populating the corresponding placeholders with the corresponding personalized identifiers associated with the given user may include: accessing a user profile of a given user locally stored in an on-device memory or storage device to identify a corresponding personalized identifier associated with the given user; and selecting a corresponding personalized identifier for populating the corresponding placeholder based on the type of the corresponding placeholder and based on the user profile.
In some embodiments, identifying the given proposed state may include identifying one or more corresponding signals associated with the given proposed state; and storing one or more corresponding signals associated with the given proposed state in an on-device memory or storage device. In some versions of these embodiments, the one or more corresponding signals associated with a given advice state may include one or more of the following: a location of the client device, a semantic indication of the location of the client device, a time or time range associated with the location of the client device, a date associated with the location of the client device, a calendar entry associated with a calendar software application of the client device, an electronic communication associated with one or more electronic communication software applications of the client device, a given software application running in a foreground of the client device, a given software application running in a background of the client device, historical usage of one or more software applications accessible at the client device, an indication of one or more additional client devices in communication with the client device, or a clipboard comprising content copied at the client device. In additional or alternative versions of these embodiments, identifying the superset of candidate zero prefix suggestions may include: identifying a plurality of user interactions of the given user with the client device or the additional client device of the given user, the user interactions being performed when one or more of the corresponding signals are detected by the client device; or identifying one or more additional users to interact with the respective client device or multiple users of the respective additional client device, the user interactions being performed when the respective client device detects one or more of the corresponding signals.
In some embodiments, selecting one or more of the candidate zero prefix suggestions for inclusion in the corresponding subset of zero prefix suggestions may include: based on the corresponding scores for the candidate zero prefix suggestions and with respect to the given suggestion state, a threshold number of zero prefix suggestions to be included in a corresponding subset of the zero prefix suggestions for the given suggestion state are identified. In some versions of these embodiments, the method may further include discarding, from the superset of zero prefix suggestions, any zero prefix suggestions that are not selected for inclusion in the corresponding subset of zero prefix suggestions for the given suggestion state.
In some embodiments, the one or more ranked ML models may include at least a globally ranked ML model that is not personalized for a given user of the client device. In additional or alternative embodiments, the one or more ranked ML models may include at least a personal ranked ML model personalized for a given user of the client device.
In some embodiments, causing the client device to provide the one or more zero prefix suggestions for presentation to the given user with a corresponding subset of the zero prefix suggestions may include: detecting an occurrence of a given proposed state associated with a client device; and in response to detecting the occurrence of the given proposed state: obtaining, from an on-device memory or storage, a corresponding subset of zero prefix suggestions stored in association with a given suggestion state; and causing one or more of the zero prefix suggestions from the corresponding subset of zero prefix suggestions stored in association with the given suggestion state to be provided for presentation to the user. In some versions of these embodiments, causing one or more of the zero prefix suggestions to be provided for presentation to the user may include: one or more of the zero prefix suggestions are caused to be visually presented for presentation to the user via a display of the client device.
In some embodiments, a method implemented by one or more processors is provided, and the method includes: maintaining a plurality of corresponding different subsets of zero prefix suggestions in an on-device memory or storage of a client device of a given user, each of the corresponding different subsets of zero prefix suggestions being stored in association with a corresponding suggestion state of the plurality of different suggestion states; detecting an occurrence of a given proposed state associated with the client device, the given proposed state being one of a plurality of different proposed states; and in response to detecting the occurrence of the given proposed state associated with the client device: obtaining, from an on-device memory or storage device, a given corresponding subset of zero prefix suggestions among a plurality of corresponding different subsets of zero prefix suggestions, the given corresponding subset stored in association with a given suggestion state; causing one or more zero prefix suggestions from a given corresponding subset of zero prefix suggestions stored in association with a given suggestion state to be provided for presentation to a given user; and in response to receiving a selection of a given zero prefix suggestion from one or more zero prefix suggestions provided for presentation to a given user: causing the client device or an additional client device of the given user in communication with the client device to perform a corresponding action associated with the given zero prefix suggestion.
These and other embodiments of the technology disclosed herein may optionally include one or more of the following features.
In some embodiments, each of the one or more zero prefix suggestions provided for presentation to the given user may be associated with a corresponding action that, when selected, causes the client device or the additional client device to perform a corresponding action associated with a corresponding one of the one or more zero prefix suggestions. In some versions of these embodiments, the fulfillment data associated with each of the corresponding actions may be pre-cached in an on-device memory or storage of the client device.
In some embodiments, in response to receiving a selection of a given zero prefix suggestion from one or more zero prefix suggestions provided for presentation to a given user, the method may further include updating an ordering of the one or more zero prefix suggestions with the selection of the given zero prefix suggestion as a feedback signal.
Additionally, some embodiments include one or more processors (e.g., a Central Processing Unit (CPU), a Graphics Processing Unit (GPU), and/or a Tensor Processing Unit (TPU)) of the one or more computing devices, wherein the one or more processors are operable to execute the instructions stored in the associated memory, and wherein the instructions are configured to perform any of the methods described above. Some embodiments also include one or more non-transitory computer-readable storage media storing computer instructions executable by one or more processors to perform any of the methods described above. Some embodiments also include a computer program product comprising instructions executable by one or more processors to perform any of the methods described above.
Claims (25)
1. A method implemented by one or more processors, the method comprising:
generating, locally at a client device, a corresponding subset of zero prefix suggestions for a given user of the client device and a given suggestion state associated with the client device, wherein each of the zero prefix suggestions included in the corresponding subset of zero prefix suggestions is customized for the given user, and wherein generating the corresponding subset of zero prefix suggestions for the given user and the given suggestion state comprises:
identifying the given suggestion state associated with the client device;
identifying a superset of candidate zero prefix suggestions;
processing the given suggestion state and the superset of candidate zero prefix suggestions using one or more ordered Machine Learning (ML) models to generate a corresponding score for each of the candidate zero prefix suggestions and with respect to the given suggestion state; and
selecting one or more of the candidate zero prefix suggestions from the superset of candidate zero prefix suggestions based on the correspondence score for inclusion in the corresponding subset of zero prefix suggestions;
storing a corresponding subset of the zero prefix suggestions associated with the given suggestion state in on-device memory or storage of the client device; and
After storing the corresponding subset of zero prefix suggestions associated with the given suggestion state, causing the client device to utilize the corresponding subset of zero prefix suggestions to provide one or more zero prefix suggestions for presentation to the given user.
2. The method of claim 1, further comprising:
determining at a first time whether one or more client device conditions are met;
wherein generating the corresponding subset of zero prefix suggestions for the given user and the given suggestion state is in response to determining that the one or more client device conditions are met at the first time.
3. The method of claim 2, wherein the one or more client device conditions include one or more of: the client device is charging, the client device has at least a threshold state of charge, a temperature of the client device is less than a threshold, the given user does not hold the client device, the given proposed state has been detected to be a newly created proposed state associated with the client device, a time of day at a location of the client device, or a day of a week at the location of the client device.
4. A method according to claim 2 or claim 3, further comprising:
determining, at a second time subsequent to the first time, whether one or more client device conditions are met; and
responsive to determining that the one or more client device conditions are satisfied at the second time:
the corresponding subset of zero prefix suggestions is updated for the given user and the given suggestion state to generate an updated corresponding subset of zero prefix suggestions for the given user and the given suggestion state.
5. The method of claim 4, further comprising:
in the on-device memory or storage, replacing, with the updated corresponding subset of the zero prefix suggestion, the corresponding subset stored in association with the given suggestion state.
6. The method of any preceding claim, further comprising:
generating, locally at the client device, an additional corresponding subset of zero prefix suggestions for the given user and an additional given suggestion state associated with the client device, wherein each of the zero prefix suggestions included in the additional corresponding subset of zero prefix suggestions is customized for the given user, wherein the additional suggestion state is different from the given suggestion state, wherein at least one of the additional corresponding subset of zero prefix suggestions included in the additional suggestion state is different from the zero prefix suggestion included in the corresponding subset of zero prefix suggestions of the given suggestion state, and wherein generating the additional corresponding subset of zero prefix suggestions for the given user and the additional suggestion state comprises:
Identifying the additional suggestion state associated with the client device;
identifying a superset of the candidate zero prefix suggestions;
processing the additional proposed states and the superset of candidate zero prefix suggestions using one or more ordered Machine Learning (ML) models to generate additional corresponding scores for each of the candidate zero prefix suggestions and with respect to the additional proposed states; and
selecting one or more of the candidate zero prefix suggestions from the superset of candidate zero prefix suggestions based on the additional correspondence score for inclusion in an additional corresponding subset of the zero prefix suggestions;
storing an additional corresponding subset of the zero prefix suggestions associated with the additional suggestion state in an on-device memory or storage means of the client device; and
after storing the additional corresponding subset of zero prefix suggestions associated with the additional suggestion state, causing the client device to utilize the additional corresponding subset of zero prefix suggestions to provide one or more of the zero prefix suggestions for presentation to the given user.
7. The method of any preceding claim, wherein generating a corresponding subset of the zero prefix suggestions for the given user and the given suggestion state further comprises:
Causing one or more of the zero prefix suggestions to be selected for inclusion in a corresponding subset of the zero prefix suggestions tailored to the given user, wherein causing one or more of the zero prefix suggestions to be selected for inclusion in a corresponding subset of the zero prefix suggestions tailored to the given user includes:
identifying one or more of the zero prefix suggestions selected for inclusion in the corresponding subset associated with the corresponding placeholder; and
the corresponding placeholders associated with one or more of the zero prefix suggestions selected for inclusion in the corresponding subset are populated with corresponding personalized identifiers associated with the given user.
8. The method of claim 7, wherein the corresponding personalized identifier associated with the given user comprises one or more of: a contact entry identifier associated with a contact entry of the given user, a media identifier associated with a media of interest to the given user, a home automation device identifier of a home automation device associated with the given user, a software application identifier of a software application accessible by the client device of the given user.
9. The method of claim 7 or claim 8, wherein populating the corresponding placeholder with the corresponding personalized identifier associated with the given user comprises:
accessing a user profile of the given user stored locally in an on-device memory or storage to identify the corresponding personalized identifier associated with the given user; and
the corresponding personalized identifier for populating the corresponding placeholder is selected based on the type of the corresponding placeholder and based on the user profile.
10. The method of any preceding claim, wherein identifying the given proposed state comprises:
identifying one or more corresponding signals associated with the given proposed state; and
the one or more corresponding signals associated with the given proposed state are stored in a memory or storage device on the device.
11. The method of claim 10, wherein the one or more corresponding signals associated with the given proposed state comprise one or more of: a location of the client device, a semantic indication of the location of the client device, a time or time range associated with the location of the client device, a date associated with the location of the client device, a calendar entry associated with a calendar software application of the client device, an electronic communication associated with one or more electronic communication software applications of the client device, a given software application running in a foreground of the client device, a given software application running in a background of the client device, a historical use of one or more software applications accessible at the client device, an indication of one or more additional client devices communicating with the client device, or a clipboard comprising content copied at the client device.
12. The method of claim 10 or claim 11, wherein identifying the superset of candidate zero prefix suggestions comprises:
identifying a plurality of user interactions of the given user with the client device or additional client devices of the given user, the user interactions being performed upon detection of one or more of the corresponding signals by the client device; or (b)
One or more additional users are identified with a respective client device or a plurality of user interactions of the respective additional client device, the plurality of user interactions being performed upon detection of one or more of the corresponding signals by the respective client device.
13. The method of any preceding claim, wherein selecting one or more of the candidate zero prefix suggestions for inclusion in a corresponding subset of the zero prefix suggestions comprises:
based on the candidate zero prefix suggestions and the corresponding score for the given suggestion state, a threshold number of zero prefix suggestions are identified that are to be included in a corresponding subset of the zero prefix suggestions for the given suggestion state.
14. The method of claim 13, further comprising:
Any zero prefix suggestions that are not selected for inclusion in the corresponding subset of zero prefix suggestions for the given suggestion state are discarded from the superset of zero prefix suggestions.
15. The method of any preceding claim, wherein the one or more ranked ML models comprise at least a globally ranked ML model that is not personalized for the given user of the client device.
16. The method of any preceding claim, wherein the one or more ranked ML models comprise at least a personal ranked ML model personalized for the given user of the client device.
17. The method of any preceding claim, wherein causing the client device to utilize the corresponding subset of zero prefix suggestions to provide one or more zero prefix suggestions for presentation to the given user comprises:
detecting an occurrence of the given proposed state associated with the client device; and
in response to detecting the occurrence of the given proposed state:
obtaining, from the on-device memory or storage, a corresponding subset of the zero prefix suggestions stored in association with the given suggestion state; and
Causing one or more of the zero prefix suggestions from the corresponding subset of zero prefix suggestions stored in association with the given suggestion state to be provided for presentation to the user.
18. The method of claim 17, wherein causing one or more of the zero prefix suggestions to be provided for presentation to the user comprises: one or more of the zero prefix suggestions are caused to be visually rendered for presentation to the user via a display of the client device.
19. A method implemented by one or more processors, the method comprising:
maintaining a plurality of corresponding different subsets of zero prefix suggestions in an on-device memory or storage of a client device of a given user, each of the corresponding different subsets of zero prefix suggestions stored in association with a corresponding suggestion state of a plurality of different suggestion states;
detecting an occurrence of a given proposed state associated with the client device, the given proposed state being one of the plurality of different proposed states; and
in response to detecting the occurrence of the given proposed state associated with the client device:
Obtaining, from the on-device memory or storage, a given corresponding subset of zero prefix suggestions among a plurality of corresponding different subsets of the zero prefix suggestions, the given corresponding subset stored in association with the given suggestion state;
causing one or more zero prefix suggestions from the given corresponding subset of zero prefix suggestions stored in association with the given suggestion state to be provided for presentation to the given user; and
in response to receiving a selection of a given zero prefix suggestion from the one or more zero prefix suggestions provided for presentation to the given user:
causing the client device or an additional client device of the given user in communication with the client device to perform a corresponding action associated with the given zero prefix suggestion.
20. The method of claim 19, wherein each of the one or more zero-prefix suggestions provided for presentation to the given user is associated with a corresponding action that, when selected, causes the client device or the additional client device to perform a corresponding action associated with a corresponding one of the one or more zero-prefix suggestions.
21. The method of claim 20, wherein fulfillment data associated with each of the corresponding actions is pre-cached in the on-device memory or storage of the client device.
22. The method of any of claims 19-21, in response to receiving a selection of a given zero prefix suggestion from the one or more zero prefix suggestions provided for presentation to the given user, the method further comprising:
the ordering of the one or more zero prefix suggestions is updated with the selection of the given zero prefix suggestion as a feedback signal.
23. A client device, comprising:
one or more processors; and
an on-device memory or storage device storing instructions that, when executed, cause one or more of the processors to:
generating, locally at the client device, a corresponding subset of zero prefix suggestions for a given user of the client device and a given suggestion state associated with the client device, wherein each of the zero prefix suggestions included in the corresponding subset of zero prefix suggestions is customized for the given user, and wherein the instructions for generating the corresponding subset of zero prefix suggestions for the given user and the given suggestion state comprise instructions for:
Identifying the given suggestion state associated with the client device;
identifying a superset of candidate zero prefix suggestions;
processing the given suggestion state and the superset of candidate zero prefix suggestions using one or more ordered Machine Learning (ML) models to generate a corresponding score for each of the candidate zero prefix suggestions and with respect to the given suggestion state; and
selecting one or more of the candidate zero prefix suggestions from the superset of candidate zero prefix suggestions based on the correspondence score for inclusion in the corresponding subset of zero prefix suggestions;
storing a corresponding subset of the zero prefix suggestions associated with the given suggestion state in the on-device memory of the client device; and
after storing the corresponding subset of zero prefix suggestions associated with the given suggestion state, causing the client device to utilize the corresponding subset of zero prefix suggestions to provide one or more zero prefix suggestions for presentation to the given user.
24. A system, comprising:
at least one processor; and
a memory storing instructions that, when executed, cause the at least one processor to perform operations corresponding to any one of claims 1 to 23.
25. A non-transitory computer-readable storage medium storing instructions that, when executed, cause at least one processor to perform operations corresponding to any of claims 1 to 23.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US17/360,250 US20220415319A1 (en) | 2021-06-28 | 2021-06-28 | On-device generation and personalization of zero-prefix suggestion(s) and use thereof |
US17/360,250 | 2021-06-28 | ||
PCT/US2021/063108 WO2023277942A1 (en) | 2021-06-28 | 2021-12-13 | On-device generation and personalization of zero-prefix suggestion(s) and use thereof |
Publications (1)
Publication Number | Publication Date |
---|---|
CN117043790A true CN117043790A (en) | 2023-11-10 |
Family
ID=80168086
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN202180088491.8A Pending CN117043790A (en) | 2021-06-28 | 2021-12-13 | On-device generation and personalization of zero prefix suggestions and use thereof |
Country Status (4)
Country | Link |
---|---|
US (1) | US20220415319A1 (en) |
EP (1) | EP4133402A1 (en) |
CN (1) | CN117043790A (en) |
WO (1) | WO2023277942A1 (en) |
Families Citing this family (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11816246B2 (en) * | 2021-07-26 | 2023-11-14 | Microsoft Technology Licensing, Llc | Modeling techniques to classify data sets containing personal identifiable information comprising numerical identifiers |
Family Cites Families (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10713601B2 (en) * | 2015-04-29 | 2020-07-14 | Microsoft Technology Licensing, Llc | Personalized contextual suggestion engine |
US10970646B2 (en) * | 2015-10-01 | 2021-04-06 | Google Llc | Action suggestions for user-selected content |
US10796238B2 (en) * | 2016-04-07 | 2020-10-06 | Cognitive Scale, Inc. | Cognitive personal assistant |
WO2017176653A1 (en) * | 2016-04-08 | 2017-10-12 | Graham Fyffe | System and methods for suggesting beneficial actions |
US10546023B2 (en) * | 2017-10-03 | 2020-01-28 | Google Llc | Providing command bundle suggestions for an automated assistant |
EP3920025A1 (en) * | 2019-05-06 | 2021-12-08 | Google LLC | Proactive caching of transient assistant action suggestions at a feature phone |
WO2020242711A1 (en) * | 2019-05-31 | 2020-12-03 | Apple Inc. | Voice assistant discoverability through on-device targeting and personalization |
US11710085B2 (en) * | 2019-11-26 | 2023-07-25 | Saudi Arabian Oil Company | Artificial intelligence system and method for site safety and tracking |
-
2021
- 2021-06-28 US US17/360,250 patent/US20220415319A1/en active Pending
- 2021-12-13 WO PCT/US2021/063108 patent/WO2023277942A1/en active Application Filing
- 2021-12-13 CN CN202180088491.8A patent/CN117043790A/en active Pending
- 2021-12-13 EP EP21852083.1A patent/EP4133402A1/en active Pending
Also Published As
Publication number | Publication date |
---|---|
WO2023277942A1 (en) | 2023-01-05 |
US20220415319A1 (en) | 2022-12-29 |
EP4133402A1 (en) | 2023-02-15 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11863646B2 (en) | Proactive environment-based chat information system | |
US10547729B2 (en) | Electronic device and method of executing function of electronic device | |
KR102313474B1 (en) | System, method and apparatus for resuming conversation session via automated assistant | |
CN111033492B (en) | Providing command bundle suggestions for automated assistants | |
US10055681B2 (en) | Mapping actions and objects to tasks | |
KR20200012933A (en) | Shortened voice user interface for assistant applications | |
US11749278B2 (en) | Recommending automated assistant action for inclusion in automated assistant routine | |
WO2018174956A1 (en) | Proactive incorporation of unsolicited content into human-to-computer dialogs | |
JP7384976B2 (en) | determining whether to automatically resume the first automated assistant session upon termination of the interrupting second session; | |
CN110462647B (en) | Electronic device and method for executing functions of electronic device | |
KR20210010523A (en) | Coordination of execution of a series of actions requested to be performed through an automated assistant | |
US11763813B2 (en) | Methods and systems for reducing latency in automated assistant interactions | |
CN117043790A (en) | On-device generation and personalization of zero prefix suggestions and use thereof | |
US11164575B2 (en) | Methods and systems for managing voice response systems to optimize responses | |
CN112989015B (en) | Adaptive conversation method and device, electronic equipment and readable storage medium | |
US20240137423A1 (en) | Proactive environment-based chat information system | |
CN116711283A (en) | Providing deterministic reasoning about fulfilling assistant commands |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination |